if (self.CavalryLogger) { CavalryLogger.start_js(["zCYpO"]); }

__d("FileInput.react",["cx","invariant","FileInput","InlineBlock.react","React","ReactDOM","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.getFileInput=function(){return this.$1}.bind(this),this.focus=function(){var a=b("ReactDOM").findDOMNode(this.refs.fileInput);a.disabled||a.focus()}.bind(this),c}a.prototype.render=function(){"use strict";var a=b("joinClasses")("_m",this.props.containerClassName),c="container",d=b("React").createElement("input",babelHelpers["extends"]({},this.props,{type:"file",className:b("joinClasses")(this.props.className,"_n"),ref:"fileInput"}),undefined);if(this.props.display==="block")return b("React").createElement("div",{className:a,ref:c},this.props.children,d);else if(this.props.display==="inline-block")return b("React").createElement(b("InlineBlock.react"),{className:a,ref:c},this.props.children,d);else return b("React").createElement("span",{className:a,ref:c},this.props.children,d)};a.prototype.componentDidMount=function(){"use strict";var a=b("ReactDOM").findDOMNode(this.refs.fileInput),c=b("ReactDOM").findDOMNode(this.refs.container),d=c.firstChild;d.nodeName==="A"||h(0);d.setAttribute("rel","ignore");this.$1=new(b("FileInput"))(c,d,a)};a.prototype.componentWillUnmount=function(){"use strict";this.$1.destroy(),this.$1=null};a.propTypes={containerClassName:c.string,display:c.oneOf(["block","inline-block","inline"])};a.defaultProps={display:"inline-block"};e.exports=a}),null);
__d("AsyncUploadBase",["ArbiterMixin","AsyncRequest","AsyncResponse","BrowserSupport","Form","forEachObject","mixin","removeFromArray"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));g=c&&c.prototype;a.parseFiles=function(a){"use strict";__p&&__p();var c={};b("forEachObject")(a,function(a,b){if(Array.isArray(a))c[b]=a;else{c[b]=[];if(a instanceof window.FileList)for(var d=0;d<a.length;d++)c[b].push(a.item(d));else(a instanceof window.File||a instanceof window.Blob)&&c[b].push(a)}});return c};function a(a){"use strict";g.constructor.call(this),this._customHeader={},this.setURI(a),this.setNetworkErrorRetryLimit(0)}a.prototype.setAllowCrossOrigin=function(a){"use strict";this._allowCrossOrigin=!!a;return this};a.prototype.setAllowCrossPageTransition=function(a){"use strict";this._allowCrossPageTransition=!!a;return this};a.prototype.setCustomHttpHeader=function(a,b){"use strict";this._customHeader[a]=b;return this};a.prototype.setData=function(a){"use strict";this._data=a;return this};a.prototype.setLimit=function(a){"use strict";this._limit=a;return this};a.prototype.setNetworkErrorRetryLimit=function(a){"use strict";this._retryLimit=a;return this};a.prototype.setPreprocessHandler=function(a){"use strict";this._preprocessHandler=a;return this};a.prototype.setRelativeTo=function(a){"use strict";this._relativeTo=a;return this};a.prototype.setStatusElement=function(a){"use strict";this._statusElement=a;return this};a.prototype.setURI=function(a){"use strict";this._uri=a;return this};a.prototype.suspend=function(){"use strict";this._suspended=!0;return this};a.prototype.resume=function(){"use strict";this._suspended=!1;this._processQueue();return this};a.prototype.isUploading=function(){"use strict";return this._inFlight};a.prototype._createFileUpload=function(a,b,c){"use strict";return new h(a,b,c)};a.prototype._processQueue=function(){"use strict";__p&&__p();if(this._suspended)return;while(this._pending.length<this._limit){if(!this._waiting.length)break;var a=this._waiting.shift();this._preprocessHandler?this._preprocessHandler(a,this._processUpload.bind(this)):this._processUpload(a);this._pending.push(a)}};a.prototype._processUpload=function(a){"use strict";__p&&__p();var c=b("Form").createFormData(a.getData()||this._data);if(a.getFile()){c.append(a.getName(),a.getFile());var d=a.getFile().uploadID;d&&c.append("upload_id",d);a.getAdditionalData().forEach(function(a,b){return c.append(b,a)})}d=new(b("AsyncRequest"))().setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setURI(this._uri).setRawData(c).setStatusElement(this._statusElement).setHandler(this._success.bind(this,a)).setErrorHandler(this._failure.bind(this,a)).setUploadProgressHandler(this._progress.bind(this,a)).setInitialHandler(this._initial.bind(this,a));for(var e in this._customHeader)d.setRequestHeader(e,this._customHeader[e]);this._relativeTo&&d.setRelativeTo(this._relativeTo);d.send();a.setAsyncRequest(d);this._inFlight=!0;a.getRetryCount()||this.inform("start",a)};a.prototype._abort=function(a){"use strict";this._pending.indexOf(a)!==-1&&(b("removeFromArray")(this._pending,a),this._processQueue()),b("removeFromArray")(this._waiting,a),a.abort()};a.prototype._initial=function(a){"use strict";if(a.isAborted())return;this.inform("initial",a)};a.prototype._success=function(a,b){"use strict";if(a.isAborted()){this.inform("success_after_abort",b);return}this._complete(a);this.inform("success",a.handleSuccess(b));this._processQueue()};a.prototype._retryUpload=function(a){"use strict";a.increaseRetryCount(),this._processUpload(a)};a.prototype._failure=function(a,c){"use strict";if(a.isAborted())return;if(c.error===1004&&a.getRetryCount()<this._retryLimit)return this._retryUpload(a);this._complete(a);this.inform("failure",a.handleFailure(c))!==!1&&b("AsyncResponse").defaultErrorHandler(c);this._processQueue()};a.prototype._progress=function(a,event){"use strict";if(a.isAborted())return;this.inform("progress",a.handleProgress(event))};a.prototype._complete=function(a){"use strict";b("removeFromArray")(this._pending,a),this._pending.length||(this._inFlight=!1)};a.isSupported=function(){"use strict";return b("BrowserSupport").hasFileAPI()};Object.assign(a.prototype,{_limit:10});function h(a,b,c){"use strict";this._name=a,this._file=b,this._data=c,this._additionalData=new Map(),this._success=null,this._response=null,this._progressEvent=null,this._request=null,this._numRetries=0,this._aborted=!1}h.prototype.getName=function(){"use strict";return this._name};h.prototype.getFile=function(){"use strict";return this._file};h.prototype.setFile=function(a){"use strict";this._file=a};h.prototype.getData=function(){"use strict";return this._data};h.prototype.getAdditionalData=function(){"use strict";return this._additionalData};h.prototype.isComplete=function(){"use strict";return this._success!==null};h.prototype.isSuccess=function(){"use strict";return this._success===!0};h.prototype.getResponse=function(){"use strict";return this._response};h.prototype.getProgressEvent=function(){"use strict";return this._progressEvent};h.prototype.setAsyncRequest=function(a){"use strict";this._request=a;return this};h.prototype.increaseRetryCount=function(){"use strict";this._numRetries++;return this};h.prototype.getRetryCount=function(){"use strict";return this._numRetries};h.prototype.isWaiting=function(){"use strict";return!this._request};h.prototype.isAborted=function(){"use strict";return this._aborted};h.prototype.abort=function(){"use strict";this._request=null,this._aborted=!0};h.prototype.handleSuccess=function(a){"use strict";this._success=!0;this._response=a;this._progressEvent=null;return this};h.prototype.handleFailure=function(a){"use strict";this._success=!1;this._response=a;this._progressEvent=null;return this};h.prototype.handleProgress=function(event){"use strict";this._progressEvent=event;return this};e.exports=a}),null);
__d("AsyncUploadRequest",["AsyncUploadBase"],(function(a,b,c,d,e,f){__p&&__p();var g,h;g=babelHelpers.inherits(a,b("AsyncUploadBase"));h=g&&g.prototype;a.prototype.setFiles=function(a){"use strict";this._files=b("AsyncUploadBase").parseFiles(a);return this};a.prototype.abort=function(){"use strict";this._uploads.forEach(function(a){return this._abort(a)}.bind(this),this)};a.prototype.send=function(){"use strict";__p&&__p();if(this._inFlight)return;this._inFlight=!0;this._uploads=[];for(var a in this._files)this._files[a].forEach(function(b){this._uploads.push(this._createFileUpload(a,b))}.bind(this));this._waiting=this._uploads.slice(0);this._pending=[];this._uploads.length?this._processQueue():this._processUpload(this._createFileUpload(null,null))};a.prototype._processQueue=function(){"use strict";h._processQueue.call(this),!this._pending.length&&!this._waiting.length&&this.inform("complete",this._uploads)};a.isSupported=function(){"use strict";return b("AsyncUploadBase").isSupported()};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("FileForm",["ArbiterMixin","AsyncRequest","AsyncResponse","AsyncUploadRequest","BehaviorsMixin","CurrentUser","DataStore","DOMQuery","Event","Form","JSONPTransport","Parent","URI","isElementNode","mixin","shield"],(function(a,b,c,d,e,f){__p&&__p();var g;function h(a){var c={};a=b("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){c[a.name]=a.files});return c}function i(a){a=b("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){a.files=null})}c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin"),b("BehaviorsMixin")));g=c&&c.prototype;function a(a,c,d){"use strict";__p&&__p();g.constructor.call(this);this._handleSubmit=function(event){if(event.isDefaultPrevented()||event.getTarget()!==this._form)return;if(this.inform("submit")===!1){event.prevent();return}this.submit(event)}.bind(this);if(a.getAttribute("rel")==="async")throw new Error("FileForm cannot be used with Primer forms.");if(a.getAttribute("method").toUpperCase()!=="POST")throw new Error("FileForm must be used with POST forms.");this._form=a;this._previousEncoding=this._form.enctype;this._form.enctype=this._form.encoding="multipart/form-data";this._files=null;this._customHeader={};c&&this.enableBehaviors(c);this._options=d||{};this.setAllowCrossOrigin(this._options.allowCrossOrigin);this.setAllowCrossPageTransition(this._options.allowCrossPageTransition);this.setUploadInParallel(this._options.uploadInParallel);this.setConcurrentLimit(this._options.concurrentLimit);this.setPreprocessHandler(this._options.preprocessHandler);this.setNetworkErrorRetryLimit(this._options.networkErrorRetryLimit);this._listeners=[b("Event").listen(document.documentElement,"submit",this._handleSubmit),b("Event").listen(this._form,"click",this._click.bind(this))];b("DataStore").set(this._form,"FileForm",this)}a.prototype.getRoot=function(){"use strict";return this._form};a.prototype.setAllowCrossOrigin=function(a){"use strict";this._allowCrossOrigin=!!a;return this};a.prototype.setAllowCrossPageTransition=function(a){"use strict";this._allowCrossPageTransition=!!a;return this};a.prototype.setUploadInParallel=function(a){"use strict";this._uploadInParallel=!!a;return this};a.prototype.setConcurrentLimit=function(a){"use strict";this._concurrentLimit=a;return this};a.prototype.setCustomHttpHeader=function(a,b){"use strict";this._customHeader[a]=b;return this};a.prototype.setPreprocessHandler=function(a){"use strict";this._preprocessHandler=a;return this};a.prototype.setNetworkErrorRetryLimit=function(a){"use strict";this._retryLimit=a;return this};a.prototype.setFiles=function(a){"use strict";this._files=a;return this};a.prototype.canUseXHR=function(){"use strict";var a="FormData"in window;a&&(!new(b("URI"))(this._form.action).isSameOrigin()&&!this._allowCrossOrigin&&(!1,a=!1));return a};a.prototype._click=function(event){"use strict";__p&&__p();var a=event.getTarget();while(b("isElementNode")(a)){if(a.type==="submit"){this._clickTarget=a;setTimeout(this._unclick.bind(this),0);break}a=a.parentNode}};a.prototype._unclick=function(){"use strict";this._clickTarget=null};a.prototype._sendViaFrame=function(){"use strict";__p&&__p();var a=this._request=new(b("AsyncRequest"))();a.setStatusElement(this._getStatusElement());a.addStatusIndicator();a.setOption("useIframeTransport",!0);var c=a.handleResponse.bind(a);c=new(b("JSONPTransport"))("iframe",this._form.action,c);var d=c.getTransportFrame(),e=c.getRequestURI().addQueryData({__iframe:!0,__user:b("CurrentUser").getID()});this._form.setAttribute("action",e.toString());c.createContinuationForFileForm_DO_NOT_USE();this._form.setAttribute("target",d.name);a.setJSONPTransport(c);a.setURI(e);a.setHandler(this.success.bind(this,null));a.setErrorHandler(this.failure.bind(this,null));a.setInitialHandler(b("shield")(this.initial,this,null))};a.prototype._sendViaXHR=function(event){"use strict";__p&&__p();var a;if(this._uploadInParallel&&b("AsyncUploadRequest").isSupported()){a=new(b("AsyncUploadRequest"))().setPreprocessHandler(this._preprocessHandler).setData(b("Form").serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);for(var c in this._customHeader)a.setCustomHttpHeader(c,this._customHeader[c]);this._concurrentLimit&&a.setLimit(this._concurrentLimit);this._files?a.setFiles(this._files):a.setFiles(h(this._form));var d=[a.subscribe("progress",function(a,b){this.progress(b,b.getProgressEvent())}.bind(this)),a.subscribe("initial",function(a,b){this.initial(b,b.getResponse())}.bind(this)),a.subscribe("success",function(a,b){this.success(b,b.getResponse())}.bind(this)),a.subscribe("start",function(a,b){this.inform("start",{upload:b})}.bind(this)),a.subscribe("failure",function(a,b){this.failure(b,b.getResponse());return!1}.bind(this)),a.subscribe("complete",function(){while(d.length)d.pop().unsubscribe()})]}else{var e;if(this._files){e=b("Form").createFormData(b("Form").serialize(this._form,this._clickTarget));var f=b("AsyncUploadRequest").parseFiles(this._files);for(var c in f){var g=f[c];g.length===1?e.append(c,g[0]):(c=c+"[]",g.forEach(function(a){e.append(c,a)}))}}else e=b("Form").createFormData(this._form,this._clickTarget);a=new(b("AsyncRequest"))().setRawData(e).setHandler(this.success.bind(this,null)).setErrorHandler(this.failure.bind(this,null)).setUploadProgressHandler(this.progress.bind(this,null)).setInitialHandler(b("shield")(this.initial,this,null))}a.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=a;event&&event.prevent()};a.prototype.forceSendViaXHR=function(){"use strict";return this._sendViaXHR(null)};a.prototype.initial=function(a){"use strict";return this.inform("initial",{upload:a})};a.prototype.success=function(a,c){"use strict";c={response:c,upload:a};this.inform("success",c)!==!1&&b("Event").fire(this._form,"success",c);this._cleanup()};a.prototype.failure=function(a,c){"use strict";a={response:c,upload:a};this.inform("failure",a)!==!1&&(b("Event").fire(this._form,"error",a)!==!1&&b("AsyncResponse").defaultErrorHandler(c));this._cleanup()};a.prototype.progress=function(a,event){"use strict";this.inform("progress",{event:event,upload:a})};a.prototype.abort=function(){"use strict";this._request&&(this._request.abort(),this._cleanup())};a.prototype.clear=function(){"use strict";i(this._form)};a.prototype.destroy=function(){"use strict";this._cleanup();while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._listeners=null;this._form.enctype=this._form.encoding=this._previousEncoding;b("DataStore").remove(this._form,"FileForm")};a.prototype.submit=function(event){"use strict";this.canUseXHR()?this._sendViaXHR(event):this._sendViaFrame()};a.prototype._cleanup=function(){"use strict";this._request=null};a.prototype._getStatusElement=function(){"use strict";return b("Parent").byClass(this._form,"stat_elem")||this._form};a.getInstance=function(a){"use strict";return b("DataStore").get(a,"FileForm")};Object.assign(a,{EVENTS:["start","submit","initial","progress","success","failure"]});e.exports=a}),null);
__d("FileInputUploader",["ArbiterMixin","DOM","DTSG","FileForm","Form","mixin"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));g=c&&c.prototype;function a(a){"use strict";g.constructor.call(this),this._inputElem=a,this._data={}}a.prototype.setInput=function(a){"use strict";this._inputElem=a;return this};a.prototype.setURI=function(a){"use strict";this._uri=a;return this};a.prototype.setData=function(a){"use strict";this._data=a;return this};a.prototype.setPreprocessHandler=function(a){"use strict";this._preprocessHandler=a;return this};a.prototype.setNetworkErrorRetryLimit=function(a){"use strict";this._retryLimit=a;return this};a.prototype.setFiles=function(a){"use strict";this._files=a;return this};a.prototype.setAllowCrossOrigin=function(a){"use strict";this._allowCrossOrigin=!!a;return this};a.prototype.setAllowCrossPageTransition=function(a){"use strict";this._allowCrossPageTransition=!!a;return this};a.prototype.setUploadInParallel=function(a){"use strict";this._uploadInParallel=!!a;return this};a.prototype.setConcurrentLimit=function(a){"use strict";this._concurrentLimit=a;return this};a.prototype.abort=function(){"use strict";this._fileForm&&(this._fileForm.abort(),this._destroyFileForm())};a.prototype.send=function(){"use strict";__p&&__p();this._createForm();var a=!this._inputElem.parentElement;if(!a){var c=this._inputElem.cloneNode(!1);b("DOM").replace(this._inputElem,c)}b("DOM").appendContent(this._formElem,this._inputElem);b("DOM").appendContent(document.body,this._formElem);this._fileForm.submit();a||b("DOM").replace(c,this._inputElem);this._removeFormEl()};a.prototype._onFileFormEvent=function(a,b){"use strict";(a==="success"||a==="failure")&&this._destroyFileForm();return this.inform(a,b)};a.prototype._createForm=function(){"use strict";this._destroyFileForm(),this._formElem=b("DOM").create("form",{action:this._uri,method:"post"}),this._fileForm=new(b("FileForm"))(this._formElem,null,{allowCrossOrigin:this._allowCrossOrigin,allowCrossPageTransition:this._allowCrossPageTransition,uploadInParallel:this._uploadInParallel,concurrentLimit:this._concurrentLimit,preprocessHandler:this._preprocessHandler,networkErrorRetryLimit:this._retryLimit}),this._files&&this._fileForm.setFiles(this._files),this._fileForm.subscribe(b("FileForm").EVENTS,this._onFileFormEvent.bind(this)),b("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:b("DTSG").getToken()},this._data),this._formElem)};a.prototype._removeFormEl=function(){"use strict";b("DOM").remove(this._formElem),this._formElem=null};a.prototype._destroyFileForm=function(){"use strict";this._fileForm&&(this._fileForm.destroy(),this._fileForm=null)};e.exports=a}),null);
__d("ReactComposerActions",["ReactComposerActionTypes","ReactComposerDispatcher","ReactComposerStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerStore");var g=void 0;a={initConfig:function(a,c,d,e,f,g,h){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").INIT_CONFIG,loggingConfig:c,lazySproutsExpand:d,activateOnInit:e===!0,sproutsConfig:f,promotedSprout:g,triggeredFrom:h})},schedule:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").SCHEDULE,scheduleDate:c})},postError:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").POST_ERROR,response:c})},postIntended:function(a,c){setTimeout(function(){(!g||g(a,c.actorID,c.config,c.targetID))&&b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").POST_INTENDED,actorID:c.actorID,config:c.config,targetID:c.targetID})},0)},registerPostIntendedHandler:function(a){g=a},postStarted:function(a,c){var d=c.actorID,e=c.composerType,f=c.config,g=c.onPostSuccess,h=c.targetID,i=babelHelpers.objectWithoutProperties(c,["actorID","composerType","config","onPostSuccess","targetID"]);setTimeout(function(){return b("ReactComposerDispatcher").dispatch({composerID:a,composerType:e,type:b("ReactComposerActionTypes").POST_STARTED,actorID:d,config:f,targetID:h,onPostSuccess:g,otherData:i})},0)},createJobsOpeningFormatPostStarted:function(a){setTimeout(function(){return b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").POST_STARTED})},0)},postSucceeded:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").POST_SUCCEEDED})},postFinally:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").POST_FINALLY,response:c})},publishStarted:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").PUBLISH_STARTED})},postPreprocessing:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").POST_PREPROCESSING})},reset:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").COMPOSER_RESET})},expandSprouts:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").EXPAND_SPROUTS})},collapseSprouts:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").COLLAPSE_SPROUTS})},setLoggedSproutPromotionView:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").SET_LOGGED_SPROUT_PROMOTION_VIEW})},setFinishedSproutPromotion:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").SET_FINISHED_SPROUT_PROMOTION})},setQueueFinishedSproutPromotion:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").SET_QUEUE_FINISHED_SPROUT_PROMOTION})},setShouldShowVoiceSwitcherNux:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").SET_SHOULD_SHOW_VOICE_SWITCHER_NUX,value:c})}};e.exports=a}),null);
__d("ReactComposerPostUtilsCore",["invariant","ReactComposerActions"],(function(a,b,c,d,e,f,g){a={getCoreData:function(a,b,c){!isNaN(c)&&c>0||g(0);return Object.assign({is_react:!0,xhpc_composerid:a,xhpc_targetid:c},b)},handlePostSucceeded:function(a){b("ReactComposerActions").postSucceeded(a),b("ReactComposerActions").reset(a)}};e.exports=a}),null);
__d("XSproutPromotionUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/sprouts/promotions/update/",{promotion_id:{type:"Int"},increment_view:{type:"Exists",defaultValue:!1},end_promotion:{type:"Exists",defaultValue:!1},current_promotion:{type:"Exists",defaultValue:!1}})}),null);
__d("ReactComposerSproutBadgePromotionUtils",["AsyncRequest","XSproutPromotionUpdateController","ReactComposerActions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initWWWPromotion:function(a){a=b("XSproutPromotionUpdateController").getURIBuilder().setInt("promotion_id",a).setExists("current_promotion",!0).getURI();new(b("AsyncRequest"))().setURI(a).send()},addView:function(a,c){a=b("XSproutPromotionUpdateController").getURIBuilder().setInt("promotion_id",a).setExists("increment_view",!0).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a.payload&&a.payload.clear_badge_on_next_composer&&b("ReactComposerActions").setQueueFinishedSproutPromotion(c)}).send();b("ReactComposerActions").setLoggedSproutPromotionView(c)},endPromotion:function(a,c){a=b("XSproutPromotionUpdateController").getURIBuilder().setInt("promotion_id",a).setExists("end_promotion",!0).getURI();new(b("AsyncRequest"))().setURI(a).send();b("ReactComposerActions").setFinishedSproutPromotion(c)}};e.exports=a}),null);
__d("submitForm",["DOM"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=a.querySelector('input[type="submit"]');c!=null?c.click():(c=b("DOM").create("input",{type:"submit",className:"hidden_elem"}),b("DOM").appendContent(a,c),c.click(),b("DOM").remove(c))};e.exports=a}),null);
__d("createPlainBlocksFromText",["CharacterMetadata","ContentBlock","immutable","generateRandomKey","sanitizeDraftText"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List,h=b("immutable").Repeat,i=b("CharacterMetadata").EMPTY;function a(a){return a.map(function(a){a=b("sanitizeDraftText")(a);var c=a.length;return new(b("ContentBlock"))({key:b("generateRandomKey")(),text:a,type:"unstyled",characterList:g(h(i,c))})})}e.exports=a}),null);
__d("createEditorStateWithRanges",["invariant","ContentState","DraftModifier","EditorState","SelectionState","UnicodeUtils","createPlainBlocksFromText"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a){__p&&__p();var c=a.addEntityToContentStateFn,d=a.allowUndo,e=a.decorator,f=a.splitIntoBlocks,h=a.text,i=a.ranges;f===undefined&&(f=!0);h||(h="");var j=[],k=[];a=f?h.split(/(\r\n?|\n)/g):[h];var l=0;a.forEach(function(a,c){c%2===0&&(j.push(a),k.push(l)),l+=b("UnicodeUtils").strlen(a)});var m=b("createPlainBlocksFromText")(j),n=b("ContentState").createFromBlockArray(m);i&&i.length&&(c&&function(){__p&&__p();var a=c;n=i.reduce(function(c,d,e){__p&&__p();e=a(d,c);c=e.getLastCreatedEntityKey();var f=d.offset;d=f+d.length;var h=void 0,i=void 0,j=void 0,l=void 0;for(var o=0;o<k.length;o++){var p=k[o],q=k[o+1],r=q===undefined;(r||f>=p&&f<q)&&(h=m[o],i=f-p);if(r||d>=p&&d<q){j=m[o];l=d-p;break}}h&&j||g(0);r=b("UnicodeUtils").substr(h.getText(),0,i);q=r.length;p=b("UnicodeUtils").substr(j.getText(),0,l);d=p.length;f=new(b("SelectionState"))({anchorKey:h.getKey(),anchorOffset:q,focusKey:j.getKey(),focusOffset:d,isBackward:!1,hasFocus:!1});o=b("DraftModifier").applyEntity(e,f,c);return o},n)}());f=b("EditorState").createWithContent(n,e);d===!1&&(f=b("EditorState").set(f,{allowUndo:!1}));return f}e.exports=a}),null);