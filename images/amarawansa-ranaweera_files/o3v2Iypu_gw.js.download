if (self.CavalryLogger) { CavalryLogger.start_js(["BNahX"]); }

__d("BrowseWebSLRPELoggerClickType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ITEM_IN_MODULE_TAPPED:"graph_search_results_item_in_module_tapped",ITEM_TAPPED:"graph_search_results_item_tapped",SEE_MORE_TAPPED:"graph_search_results_see_more_on_module_tapped",INLINE_FRIEND_REQUEST:"inline_friend_request",INLINE_PAGE_LIKE_REQUEST:"inline_page_like_request",MODULE_TAPPED:"graph_search_results_module_tapped",TAP_MODULE:"graph_search_results_module_tapped",VIEW_PORT_VIEWS_ON_SEARCH_RESULTS:"view_port_views_on_search_results"})}),null);
__d("SearchFunnelLoggerEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SEARCH_BOX_TAPPED:"search_box_tapped",TA_KEYWORD_CLICKED:"ta_keyword_clicked",TA_RECENT_SEARCH_CLICKED:"ta_recent_search_clicked",SERP_RESULTS_LOADED:"serp_results_loaded",SERP_RESULT_CLICKED:"serp_result_clicked",SERP_SEE_MORE_CLICKED:"serp_see_more_clicked",SERP_SCROLL_RESULTS:"serp_scroll_results"})}),null);
__d("SearchFunnelLogger",["BrowseWebSLRPELoggerClickType","FunnelLogger","SearchFunnelLoggerConfig","SearchFunnelLoggerEvents"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="SEARCH_FUNNEL";a={_startFunnel:function(){if(b("FunnelLogger").getFunnelInstance(g)||!b("SearchFunnelLoggerConfig").isEnabled)return;b("FunnelLogger").startFunnel(g);window.addEventListener("beforeunload",function(){return this.endFunnel()}.bind(this))},logSERPResultClick:function(a,c,d){this._appendAction(d===b("BrowseWebSLRPELoggerClickType").SEE_MORE_TAPPED?b("SearchFunnelLoggerEvents").SERP_SEE_MORE_CLICKED:b("SearchFunnelLoggerEvents").SERP_RESULT_CLICKED,{logging_unit_id:c,query:a.query_data.q,serp_sid:a.session_id,typeahead_sid:a.typeahead_sid})},logSERPLoaded:function(a,c,d){this._appendAction(b("SearchFunnelLoggerEvents").SERP_RESULTS_LOADED,{query:d,serp_sid:a,typeahead_sid:c})},logSERPScrollPagination:function(a,c,d){this._appendAction(b("SearchFunnelLoggerEvents").SERP_SCROLL_RESULTS,{query:d,serp_sid:a,typeahead_sid:c})},logSearchOpen:function(){this._appendAction(b("SearchFunnelLoggerEvents").SEARCH_BOX_TAPPED)},logTypeaheadClick:function(a,c){var event=null;a.isRecent&&a.isNullState?event=b("SearchFunnelLoggerEvents").TA_RECENT_SEARCH_CLICKED:a.type==="keyword"&&(event=b("SearchFunnelLoggerEvents").TA_KEYWORD_CLICKED);event!=null&&this._appendAction(event,{selected_text:a.text,selected_type:a.type,typeahead_sid:c})},_appendAction:function(event){var a=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];this._startFunnel();b("FunnelLogger").appendActionWithPayload(g,event,a)},endFunnel:function(){if(!b("FunnelLogger").getFunnelInstance(g))return;b("FunnelLogger").endFunnel(g)}};e.exports=a}),null);
__d("XBrowseLoggerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/browse/logger/",{data:{type:"HackType",required:!0}})}),null);
__d("BrowseLogger",["AsyncRequest","Banzai","Run","SearchFunnelLogger","XBrowseLoggerController","mapObject"],(function(a,b,c,d,e,f){__p&&__p();var g="browse",h="browse_aggr",i=null,j={},k={},l=function(a){if(a==null)return"undefined";var b=a.tagName.toLowerCase(),c=a.id;a=a.className;c&&(b+="#"+c);a&&(b+="."+a);return b};function m(){i=null,j={},k={}}function n(a){return Object.assign(a,{clientSessionID:i})}function o(a){b("Banzai").post(g,n(a))}function p(a){a=b("XBrowseLoggerController").getURIBuilder().setHackType("data",n(a)).getURI();new(b("AsyncRequest"))().setURI(a).send()}function q(){if(i===null)return;k.aggregated=j;b("Banzai").post(h,n(k));m()}function r(a){j[a]=(j[a]||0)+1}function s(a){Object.assign(k,a)}b("Run").onUnload(q);a={newSession:function(){q(),i=Math.random().toString(),k.start_time||(k.start_time=Math.round(Date.now()/1e3))},logResultClick:function(a,c,d,e,f){var g=arguments.length<=5||arguments[5]===undefined?null:arguments[5],h=arguments[6],i={action:"result_click",click_type:a.ct||"result",section:a.section||"unknown",id:a.id||-1,path:a.path||"unknown",rank:a.rank||0,referrer:a.referrer||"unknown",result_type:a.result_type||"unknown",session_id:a.session_id||0,query_time:a.query_time||null,abtest_version:a.abtest_version||"NONE",abtest_params:a.abtest_params||null,typeahead_sid:a.typeahead_sid||"",source_module_role:a.source_module_role||"",result_title:a.result_title||"unknown",result_href:a.result_href||"unknown",result_semantic:a.result_semantic||"unknown",type:a.experience_type||"unknown",click_action:d||null,sub_id:a.sub_id||null,owner_id:a.owner_id||null,browse_location:a.browse_location||"unknown",query_data:a.query_data||"unknown",is_headline:a.is_headline||!1,qid:c.qid||0,mf_story_key:c.mf_story_key||0,module:a.module||"NONE",view:a.view||null,clicked_href:f||null,bt_key:g};h!=null&&b("SearchFunnelLogger").logSERPResultClick(i,h.unit_id_result_id,h.unit_id_click_type);c.tn&&(i.tn=c.tn);a.cst&&(i.click_subtype=a.cst);r("result_click_"+i.click_type);s({path:i.path,referrer:i.referrer,result_type:i.result_type,session_id:i.session_id,abtest_version:i.abtest_version,abtest_params:i.abtest_params,typeahead_sid:i.typeahead_sid});g?p(i):o(i);!a.id&&a.browse_location!=="browse_location:mf_trending"&&!g&&o({action:"logging_error",click_action:d,click_type:i.click_type,attributes:JSON.stringify(a),element:b("mapObject")({srcElement:e.srcElement,target:e.target,toElement:e.toElement},l),event:{button:e.button,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,layerX:e.layerX,layerY:e.layerY,offsetX:e.offsetX,offsetY:e.offsetY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey,type:e.type,x:e.x,y:e.y}})},logControlsClick:function(a,b){var c={action:"controls_click",click_type:b,path:a.path||"unknown",referrer:a.referrer||"unknown",session_id:a.session_id||0,query_time:a.query_time,filter_name:a.name||"unknown",typeahead_sid:a.typeahead_sid||"",result_type:a.result_type||"unknown",type:a.experience_type||"unknown"};a.cst&&(c.click_subtype=a.cst);r("controls_click_"+b);s({path:c.path,referrer:c.referrer,session_id:c.session_id,typeahead_sid:c.typeahead_sid});o(c)},logResultHover:function(a,b){var c=arguments.length<=2||arguments[2]===undefined?null:arguments[2],d={action:"result_hover",id:a.id||0,path:a.path||"unknown",rank:a.rank||null,result_type:a.result_type||"unknown",session_id:a.session_id||0,query_time:a.query_time||null,time_elapsed:b||null,typeahead_sid:a.typeahead_sid||0,type:a.experience_type||"unknown",module:a.module||"NONE",view:a.view||null,bt_key:c};r("result_hover");s({path:d.path,session_id:d.session_id,typeahead_sid:d.typeahead_sid});c?p(d):o(d)},logScroll:function(a,b,c,d){a={action:"scroll",encoded_query:a,fragments:b,position:c,session_id:d||0};o(a)},logNUXStep:function(a){a={action:"nux_step",step:a};o(a)},logDisambiguationImpression:function(a,b,c,d,e){d={action:"disambiguation_imp",ids:d,name:a,path:c,type:b,typeahead_sid:e};o(d)},logDisambiguationClick:function(a,b,c,d,e,f){e={action:"disambiguation_clk",id:e,index:d,name:a,path:c,type:b,typeahead_sid:f};o(e)},logDYMLinkClick:function(a,b,c,d){b={action:"dym_click",path:a.path||"unknown",referrer:a.referrer||"unknown",session_id:a.session_id||0,query_time:a.query_time,abtest_version:a.abtest_version||"NONE",abtest_params:a.abtest_params,typeahead_sid:a.typeahead_sid||"",type:a.experience_type||"unknown",click_action:c,sub_id:a.sub_id,owner_id:a.owner_id,browse_location:a.browse_location||"unknown",query_data:a.query_data||"unknown",module:a.module||"NONE",view:a.view,dym_confidence:a.dym_confidence||"NONE",dym_query:a.dym_query||"",dym_correction:a.dym_correction||"",dym_clicked:a.dym_clicked||""};o(b)}};e.exports=a}),null);
__d("BrowseClickLogger",["BanzaiODS","BrowseClientEventLogger","BrowseLogger","DOMQuery","Event","Parent","collectDataAttributes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){__p&&__p();var d=a.target,e=b("collectDataAttributes")(d,["bt","ft","gt"],["data-bt-key"]);e.bt&&e.bt.path&&(e.bt.path+=document.location.search);e.gt.tn=e.ft.tn;e.gt.click_type=e.bt.ct||"result";var f=b("Parent").byAttribute(d,"href");f=f!=null?f.href:null;e.gt.clicked_href=f;b("BrowseClientEventLogger").logClick(e);if(e.bt==null||e.ft==null)return;b("DOMQuery").scry(d,"^.recourse-link").length>0?c==="left_click"&&b("BrowseLogger").logDYMLinkClick(e.bt,e.ft,c,a):b("BrowseLogger").logResultClick(e.bt,e.ft,c,a,f,e.normal["data-bt-key"],e.gt.xt)}var h=!1;a={init:function(a){h?b("BanzaiODS").bumpEntityKey("search.www.browse_click_logger","duplicate_initialization"):h=!0,b("Event").listen(a,"mousedown",function(a){var b=a.button===2||a.which===3?"right_click":"left_click";a.shiftKey&&(b+="_shift");a.altKey&&(b+="_alt");(a.metaKey||a.ctrlKey)&&(b+="_ctrl");g(a,b)}.bind(this))},logClick:g};e.exports=a}),null);
__d("BrowseClientSizeLogger",["BanzaiLogger","DataAttributeUtils","getElementPosition"],(function(a,b,c,d,e,f){a={log:function(a){var c=b("DataAttributeUtils").getDataAttribute(a,"data-xt");c=JSON.parse(c.substring(c.indexOf("{")));a=b("getElementPosition")(a);c.client_height=a.height;c.client_width=a.width;c.raw_id=+c.raw_id;b("BanzaiLogger").log("SearchResultsClientSizeLoggerConfig",c)}};e.exports=a}),null);
__d("BrowseMouseSpeedTracker",["Event","removeFromArray"],(function(a,b,c,d,e,f){__p&&__p();var g=50,h=null,i=null,j=[],k={x:0,y:0},l=0,m=[{x:0,y:0},{x:0,y:0}];function n(){m[l].x=k.x,m[l].y=k.y,l=(l+1)%2}function o(){var a=m[0].x-m[1].x,b=m[0].y-m[1].y;return Math.sqrt(a*a+b*b)*(1e3/g)}function p(){if(h)return;i=b("Event").listen(document.body,"mousemove",function(event){k.x=event.pageX||event.screenX,k.y=event.pageY||event.screenY});h=window.setInterval(function(){n(),r(o())},g)}function q(){h&&(window.clearInterval(h),i.remove(),h=null)}function r(a){j.forEach(function(b){a<b.velocity&&(b.callback(a),s(b))})}function s(a){b("removeFromArray")(j,a),j.length||q()}a={addTrigger:function(a,b){a={velocity:a,callback:b};p();j.push(a);return{remove:s.bind(null,a)}}};e.exports=a}),null);
__d("BrowseRunOnLeave",["Run"],(function(a,b,c,d,e,f){a={register:function(a){b("Run").onLeave(a),this.handlers=(this.handlers||[]).concat(a)},cleanup:function(){this.handlers.forEach(function(a){return a.call(null,{})}),this.handlers=[]}};e.exports=a}),null);
__d("BrowseMouse",["cx","BrowseMouseSpeedTracker","BrowseRunOnLeave","CSS","DataStore","DOM","Event","Parent","Toggler","removeFromArray"],(function(a,b,c,d,e,f,g){__p&&__p();var h=500,i="_3u0",j="_3u1",k=null,l=[];function m(a){return b("Parent").byClass(a,j)}function n(a){return"browse-"+(a?"over":"out")}function a(a){return b("CSS").addClass(a,j)}function c(a,c,d,e){var f=m(c);e||l.push({element:c,callback:d});if(f){e=n(a);c=b("DataStore").get(f,e,[]);b("DataStore").set(f,e,c.concat(d));return f}}function o(a,c){if(a){b("CSS").conditionClass(a,i,c);a=b("DataStore").get(a,n(c));a&&a.forEach(function(a){a()})}}function p(a){var c=a.element;["browse-over","browse-out"].forEach(function(d){var e=b("DataStore").get(c,d);e&&(b("removeFromArray")(e,a.callback),e.length||b("DataStore").remove(c,d))})}function d(){__p&&__p();var a=null;if(k)return;k=b("Event").listen(document.body,"mouseover",function(c){__p&&__p();var d=m(c.getTarget());if(!d||d==a)return;var e=null,f=null,g=!1;a=d;var i=b("BrowseMouseSpeedTracker").addTrigger(h,function(){o(d,!0),g=!0}),j=function(){i.remove(),l.remove(),e&&e.remove(),f&&f.unsubscribe()},k=function(){j(),g&&o(d,!1),a=null},l=b("Event").listen(d,"mouseleave",function(){var a=b("Toggler").getActive();a&&b("DOM").contains(d,a)?(f=b("Toggler").subscribe("hide",k),e=b("Event").listen(d,"mouseover",j)):k()})});b("BrowseRunOnLeave").register(function(){while(l.length)p(l.pop())})}f={init:d,makeTarget:a,onMouseOver:c.bind(null,!0),onMouseOut:c.bind(null,!1),removeListeners:p};e.exports=f}),null);
__d("BrowseViewportTracking",["csx","Arbiter","BrowseClientEventLogger","DOM","StreamViewportTracking","$","ge","viewportTrackingBuilder"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;function i(a){__p&&__p();var c=void 0,d=void 0,e=void 0;function f(){c||(c=b("ge")("browse:independent:modules:pagelet"));return c}function g(){d||(d=b("$")("initial_browse_result"));return d}function h(){e||(e=b("ge")("bootstrap_entity_module"));return e}a=b("StreamViewportTracking").getBehavior(a,b("$")("initial_browse_result"),null);return{getDataFromConfig:function(a,b){b.isTimetrackingEnabled=a.is_timetracking_enabled,b.vpvdDebug=a.vpvd_debug,b.trackingHooks=a.tracking_hooks},getAllStories:function(){var a=f(),c=[];a!=null&&(c=b("DOM").scry(f(),"._401d"));a=b("DOM").scry(g(),"._401d");var d=h(),e=[];d&&(e=b("DOM").scry(d,"._401d"));d=e.concat(c).concat(a);return d},getStream:a.getStream,getStoryID:function(a){a=a.getAttribute("data-gt");if(a==null)return null;a=JSON.parse(a);return a&&a.xt?String(JSON.parse(a.xt.substring(3)).raw_id):null},getDataToLog:a.getDataToLog}}a=babelHelpers.inherits(j,b("StreamViewportTracking"));h=a&&a.prototype;function j(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.updateOnPageletLoad=function(){this.invalidateAllStoriesCache(),this.updateTimeTrackingData(!1,"pagelet_load")}.bind(this),b}j.prototype.init=function(a){h.init.call(this,a),this.subscriptions.addSubscriptions(b("Arbiter").subscribe("BrowseScrollingPageletLoaded",this.updateOnPageletLoad))};j.prototype.getTimetrackingDataToLog=function(a){__p&&__p();var b=h.getTimetrackingDataToLog.call(this,a);a=a.story;if(a==null)return b;b.log_type="vpvd";a=a.getAttribute("data-gt");if(a==null)return b;a=JSON.parse(a);if(!a)return b;b.xt=a.xt;return b};j.prototype.sendDataToLog=function(a,c,d,e){if(!c.xt)return;(c.log_type="vpvd")&&(c.event="vpvd",b("BrowseClientEventLogger").maybeLogVisiblityEvent(c))};j.prototype.cleanup=function(){k.clearSingleton(),h.cleanup.call(this)};var k=b("viewportTrackingBuilder")(function(a){var b=new j(i(a));b.init(a);return b});k.init=k.singleton.bind(k);e.exports=k}),null);
__d("PageRecommendationsCircleScoreQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"pageID",type:"ID!"}],c={kind:"LinkedField",alias:null,name:"overall_star_rating",storageKey:null,args:null,concreteType:"Rating",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null}]},d={kind:"ScalarField",alias:null,name:"should_show_aggregated_score",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"PageRecommendationsCircleScoreQuery",id:"1779048602147307",text:null,metadata:{},fragment:{kind:"Fragment",name:"PageRecommendationsCircleScoreQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[c,d]}]},operation:{kind:"Operation",name:"PageRecommendationsCircleScoreQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[c,d,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}}}();e.exports=a}),null);
__d("SearchResultPageNavigationPerfTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:SearchResultPageNavigationPerfLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:SearchResultPageNavigationPerfLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:SearchResultPageNavigationPerfLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAppID=function(a){this.$1.appid=a;return this};a.prototype.setBemDisplayTime=function(a){this.$1.bem_display_time=a;return this};a.prototype.setBrowseLayoutPageletDisplayTime=function(a){this.$1.browse_layout_pagelet_display_time=a;return this};a.prototype.setCaller=function(a){this.$1.caller=a;return this};a.prototype.setFilterType=function(a){this.$1.filter_type=a;return this};a.prototype.setIemDisplayTime=function(a){this.$1.iem_display_time=a;return this};a.prototype.setNavType=function(a){this.$1.nav_type=a;return this};a.prototype.setNavigationStartTime=function(a){this.$1.navigation_start_time=a;return this};a.prototype.setReferrer=function(a){this.$1.referrer=a;return this};a.prototype.setSessionID=function(a){this.$1.session_id=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={appid:!0,bem_display_time:!0,browse_layout_pagelet_display_time:!0,caller:!0,filter_type:!0,iem_display_time:!0,nav_type:!0,navigation_start_time:!0,referrer:!0,session_id:!0,vc:!0};e.exports=a}),null);
__d("SearchBootstrapEntityModuleDebugUtil",["Arbiter","BanzaiODS","JSLogger","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={backend_faster_no_matches:"BEM not shown because backend returned faster but had no matches anyway",backend_faster_with_matches:"BEM had matches but backend was faster",no_matches:"BEM not shown as no matches were found",shown:"BEM shown"};a={printDebugNotice:function(a,c,d,e){e=e!=null&&e.length>0;e=e?"has_preloaded_entity_ids":"without_preloaded_entity_ids";b("BanzaiODS").bumpEntityKey("search.www."+a,c+"."+e);b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(event,a){a.searchBootstrapEntityModule={notice:g[c],matches:JSON.stringify(d!=null?d:[])}});b("gkx")("AT5mEoK6yZIZfOTePCTalrkJYM_xxtUvvUlHcKv-Nw4MRnriEvGxI7gLFZxvp7qTmJZGLJlpAI-hO4R1yDBCdPrb")&&!1}};e.exports=a}),null);
__d("SearchLoggingClientUnitIdPrefix",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WWW_BEM:"www_bem",WWW_BEM_RES:"www_bem_res",WWW_INSTANT_BEM:"www_instant_bem",MTOUCH_BEM:"mtouch_bem",MTOUCH_BEM_RES:"mtouch_bem_res"})}),null);
__d("SearchBootstrapEntityModuleUtil",["cx","fbt","DOM","FacebarJSConstants","immutable","SearchBootstrapEntityModuleUIConfig","SearchEntityModuleServerConstants","SearchLoggingClientUnitIdPrefix","URI","md5","randomInt"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("immutable").Map(),j=new RegExp("^/(search/top|search/str.+/keywords_(top|search))"),k=new RegExp("^/(search|topic/trending)"),l=new RegExp("^/search/str/([^/]+)/");function a(a){__p&&__p();var b=void 0;switch(a){case"user":b=h._("People");break;case"page":b=h._("Pages");break;case"group":b=h._("Groups");break;case"application":b=h._("Apps");break;case"place":b=h._("Places");break;case"event":b=h._("Events");break}return b}function m(a){__p&&__p();if(a.subtext==null)return[];if(a.browse_type==="browse_type_tv_show")return[b("DOM").create("span",{},[b("DOM").create("span",{className:"_2vo8"},h._("SHOW")),a.subtext])];a=a.subtext.split(/\s*\u00B7s*/g).map(function(a){return b("DOM").create("span",{},a)});var c=a.pop();a=a.slice(0,b("SearchBootstrapEntityModuleUIConfig").numSnippetsToShow-1);c!=null&&a.push(c);return a}function c(a,c){a=a.filter(function(a){return a.type!==b("FacebarJSConstants").keywordType}).sort(function(a,b){return a.bootstrapCost-b.bootstrapCost});var d=a[0],e=void 0;d!=null&&(e=d.type);a=a.filter(function(a){return a.type===e}).slice(0,b("SearchBootstrapEntityModuleUIConfig").numBootstrapResultsToShow);return a.map(function(a){return n(a,c)})}function n(a,c){var d=a.tuid,e=a.path,f=a.text,g=a.photo,h=a.photos,i=a.is_verified,j=o(a);return{tuid:d,uri:new(b("URI"))(e).addQueryData("ref",b("SearchEntityModuleServerConstants").BROWSE_RESULTS_PAGE_REF),type:j,text:f,photo:g,photos:h,snippets:m(a),module_role:b("SearchEntityModuleServerConstants").RESULT_TYPE_TO_MODULE_ROLE[j],is_bootstrap:!0,is_verified:i,logging_unit_id:p(c,a),is_currently_live:!1,is_gaming_page:!1}}function o(a){var b;void 0;a.type==="app"?b="application":a.render_type==="place"?b="place":b=a.type;return b}function d(a,c){return new(b("URI"))(b("SearchEntityModuleServerConstants").TYPE_TO_SERP_PATH[o(a[0])]).setQueryData({q:c})}function p(a,c){var d=i.get(a);d==null&&(d=b("immutable").Map(),i.set(a,d));a=d.get(c.tuid);a==null&&(a=q(b("SearchLoggingClientUnitIdPrefix").WWW_BEM_RES),d.set(c.tuid,a));return a}function q(a){return a+":"+b("md5")(String(b("randomInt")(0,Number.MAX_SAFE_INTEGER)))}function r(a){return a.getPath().match(k)!=null}function f(a){var b=a.getQueryData(),c=b.ref!=null&&b.q!=null&&Object.keys(b).length===2;b=b.ref!=null&&Object.keys(b).length===1;return a.getPath().match(j)!=null&&(b||c)}function g(a){if(!r(a))return null;var b=a.getQueryData();if(b.q!=null)return b.q;b=a.getPath();a=b.match(l);return a!=null?decodeURIComponent(a[1]).replace(/\+/g," "):null}e.exports={getTitleForResultType:a,getSnippetForRawBootstrapResult:m,transformRawBootstrapResultsToEntityModuleResults:c,getSeeMoreURIForResults:d,generateUnitIDWithPrefix:q,getQueryFromURI:g,isSERPURI:r,isTopTabURI:f}}),null);
__d("BrowseWebSLRPELoggerAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SEARCH:"search",CLICK:"click",MODULE_IMPRESSION:"module_impression",TIME_SPENT:"time_spent"})}),null);
__d("PageRecommendationsCircleScoreType",[],(function(a,b,c,d,e,f){"use strict";a={SEARCH_RESULT_SMALL:"SEARCH_RESULT_SMALL",SEARCH_RESULT_MEDIUM:"SEARCH_RESULT_MEDIUM",SEARCH_RESULT_LARGE:"SEARCH_RESULT_LARGE",SEARCH_RESULT_XLARGE:"SEARCH_RESULT_XLARGE",PAGE_REVIEW:"PAGE_REVIEW",PAGE_METABOX:"PAGE_METABOX",REX_CARD:"REX_CARD",SCORE_EXPLAINER:"SCORE_EXPLAINER"};e.exports=a}),null);
__d("PageRecommendationsCircleScore.react",["ix","cx","invariant","Image.react","PageRatingConfig","PageRecommendationsCircleScoreType","React","RelayFBEnvironment","RelayModern","asset","formatNumber","idx","joinClasses","promiseDone","PageRecommendationsCircleScoreQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("RelayModern").fetchQuery;b("RelayModern").graphql;var l=b("PageRecommendationsCircleScoreType").SEARCH_RESULT_SMALL,m=b("PageRecommendationsCircleScoreType").SEARCH_RESULT_MEDIUM,n=b("PageRecommendationsCircleScoreType").SEARCH_RESULT_LARGE,o=b("PageRecommendationsCircleScoreType").SEARCH_RESULT_XLARGE,p=b("PageRecommendationsCircleScoreType").PAGE_REVIEW,q=b("PageRecommendationsCircleScoreType").PAGE_METABOX,r=b("PageRecommendationsCircleScoreType").REX_CARD,s=b("PageRecommendationsCircleScoreType").SCORE_EXPLAINER,t={SEARCH_RESULT_SMALL:g("515097"),SEARCH_RESULT_MEDIUM:g("515097"),SEARCH_RESULT_LARGE:g("515097"),SEARCH_RESULT_XLARGE:g("515097"),PAGE_REVIEW:g("515099"),PAGE_METABOX:g("515097"),REX_CARD:g("515097"),SCORE_EXPLAINER:g("515099")},u=function(){return b("PageRecommendationsCircleScoreQuery.graphql")};c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={rating:this.props.rating},b}a.prototype.componentDidMount=function(){this.state.rating===undefined&&b("promiseDone")(k(b("RelayFBEnvironment"),u,{pageID:this.props.pageID}),function(a){var b;b=(b=a.page)!=null?(b=b.overall_star_rating)!=null?b.value:b:b;a=(a=a.page)!=null?a.should_show_aggregated_score:a;this.setState({rating:b!==null?Number(b):0,isNewScore:a!==null?a:!1})}.bind(this))};a.prototype.render=function(){this.props.rating!==undefined||this.props.pageID!==undefined||i(0);return this.state.rating===undefined||this.state.rating===0&&this.state.isNewScore===!1?null:b("React").createElement("div",{className:b("joinClasses")("_672g"+(this.props.scoreType===l?" _1v1b":"")+(this.props.scoreType===m?" _1v1c":"")+(this.props.scoreType===n?" _1v1e":"")+(this.props.scoreType===o?" _1v1h":"")+(this.props.scoreType===p?" _1f47":"")+(this.props.scoreType===q?" _4okn":"")+(this.props.scoreType===r?" _67wa":"")+(this.props.scoreType===s?" _1nnu":""),this.$1())},this.$2())};a.prototype.$2=function(){var a=Number(this.state.rating)*(b("PageRatingConfig").is_ten_points?2:1);if(a===10)return b("formatNumber")(a,0);return a===0&&this.state.isNewScore||this.props.rating===0?this.$3():b("formatNumber")(a,1)};a.prototype.$3=function(){var a=t[this.props.scoreType];return b("React").createElement(b("Image.react"),{src:a})};a.prototype.$1=function(){if(b("PageRatingConfig").is_lockup_basic)if(b("PageRatingConfig").is_ten_points)return this.$4();else return this.$5();return"_40h6"};a.prototype.$5=function(){__p&&__p();var a=Number(this.state.rating);if(a>=4)return"_3lzb";else if(a>=3)return"_3lzc";else if(a>=2)return"_3lzw";else if(a>=1)return"_3lzx";return"_3lzy"};a.prototype.$4=function(){__p&&__p();var a=Number(this.state.rating)*2;if(a>=9)return"_3lzb";else if(a>=8)return"_3l-0";else if(a>=7)return"_3l-1";else if(a>=6)return"_3lzc";else if(a>=5)return"_3l-r";else if(a>=4)return"_3lzw";else if(a>=3)return"_3l_5";else if(a>=2)return"_3lzx";else if(a>=1)return"_3lzy";return"_3l_6"};e.exports=a}),null);
__d("SearchEntityModuleStyle",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SMALL:"small",MEDIUM:"medium",LARGE:"large",XLARGE:"xlarge"})}),null);
__d("XSearchBEMUnitDataLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/async/log_bem_unit_data/",{session_id:{type:"String",required:!0},logging_unit_id:{type:"String",required:!0},query:{type:"String",required:!0},query_function:{type:"String",required:!0},results_module_role:{type:"String",required:!0},tapped_result_entity_id:{type:"String"},entity_ids:{type:"StringSet"},bootstrap_item_count:{type:"Int"},should_log_module_impression:{type:"Bool",defaultValue:!1}})}),null);
__d("XSearchBrowseActionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/async/browse_actions/",{id:{type:"String",required:!0},result_type:{type:"String",required:!0}})}),null);
__d("XSearchProfilePictureController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/async/profile_picture/",{fbid:{type:"FBID",required:!0},width:{type:"Int",required:!0},height:{type:"Int",required:!0}})}),null);
__d("SearchEntityModuleResult.react",["ix","cx","fbt","AsyncRequest","Badge.react","Bootloader","BrowseClientEventLogger","BrowseWebSLRPELoggerClickType","CurrentUser","DOM","DOMContainer.react","HovercardLink","Image.react","Link.react","PageRatingConfig","PageRecommendationsCircleScore.react","PageRecommendationsCircleScoreType","React","SearchEntityModuleServerConstants","SearchEntityModuleStyle","SearchResultPageExperiments","XSearchBEMUnitDataLoggingController","XSearchBrowseActionsController","XSearchProfilePictureController","XUIButton.react","XUISpinner.react","asset","memoize"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=(c={},c[b("SearchEntityModuleStyle").SMALL]=48,c[b("SearchEntityModuleStyle").MEDIUM]=64,c[b("SearchEntityModuleStyle").LARGE]=72,c[b("SearchEntityModuleStyle").XLARGE]=100,c);d=b("PageRecommendationsCircleScoreType").SEARCH_RESULT_SMALL;f=b("PageRecommendationsCircleScoreType").SEARCH_RESULT_MEDIUM;h=b("PageRecommendationsCircleScoreType").SEARCH_RESULT_LARGE;c=b("PageRecommendationsCircleScoreType").SEARCH_RESULT_XLARGE;var m=(k={},k[b("SearchEntityModuleStyle").SMALL]=d,k[b("SearchEntityModuleStyle").MEDIUM]=f,k[b("SearchEntityModuleStyle").LARGE]=h,k[b("SearchEntityModuleStyle").XLARGE]=c,k);d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(a){j.constructor.call(this,a),this.state={actionsLoaded:!1,FoodDrinkSearchHighlight:null,ServicesSearchOfferHighlight:null,showCrActions:!1},this.getLoggingData=b("memoize")(function(){var a=b("SearchEntityModuleServerConstants").TYPE_TO_DISPLAY_STYLE[this.props.result.type],c=b("SearchEntityModuleServerConstants").TYPE_TO_BROWSE_TYPE[this.props.result.type],d=b("SearchEntityModuleServerConstants").WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE;d=d+JSON.stringify({display_style:a,id:this.props.result.tuid,item_type:"result",module_result_type:c,module_type:this.props.module_role,position_in_module:this.props.position_in_module,query:this.props.browse_query,raw_id:parseInt(this.props.result.tuid,10),session_id:this.props.browse_session_id,vertical:"content",is_bootstrap:this.props.result.is_bootstrap,unit_id:this.props.result.logging_unit_id,unit_id_click_type:b("BrowseWebSLRPELoggerClickType").ITEM_IN_MODULE_TAPPED,unit_id_result_id:this.props.result.tuid});return{"data-xt":d,"data-gt":JSON.stringify({type:"xtracking",xt:d}),"data-bt":JSON.stringify({id:parseInt(this.props.result.tuid,10)}),"data-xt-vimp":JSON.stringify(this.props.client_view_config),"data-vistracking":"1","data-insertion-position":this.props.position_in_module}}.bind(this))}a.prototype.componentDidMount=function(){this.$1=b("DOM").create("div"),this.$2=b("DOM").create("div"),this.$3=[],this.renderActions(),this.logImpression(),this.props.result.logging_unit_id!=null&&this.props.result.is_bootstrap&&this.logUnitData(),this.props.result.food_drink_highlight&&!this.state.FoodDrinkSearchHighlight&&b("Bootloader").loadModules(["FoodDrinkSearchHighlight.react"],function(a){return this.setState({FoodDrinkSearchHighlight:b("React").createElement(a,this.props.result.food_drink_highlight)})}.bind(this),"SearchEntityModuleResult.react"),this.props.result.services_offer_highlight&&!this.state.ServicesSearchOfferHighlight&&b("Bootloader").loadModules(["ServicesSearchOfferHighlight.react"],function(a){return this.setState({ServicesSearchOfferHighlight:b("React").createElement(a,this.props.result.services_offer_highlight)})}.bind(this),"SearchEntityModuleResult.react")};a.prototype.render=function(){__p&&__p();var a=this,c=this.props.result.uri,d=b("HovercardLink").constructEndpoint({id:this.props.result.tuid}),e=void 0;this.props.result.badge_type?e=b("React").createElement(b("Badge.react"),{type:this.props.result.badge_type,size:"small"}):this.props.result.is_verified===!0&&(e=b("React").createElement(b("Badge.react"),{type:"verified",size:"small"}));var f=this.props.result.snippets.map(function(a,c){return b("React").createElement(b("DOMContainer.react"),{key:"snippet_"+c,className:(c===0?"_2yep":"")+(c!==0?" _2yeq":"")},a)}),h=this.props.result.photos,j=void 0,k=l[this.props.module_style],n=m[this.props.module_style];if(h!=null&&!this.props.has_module_guidelines)(function(){var c=h.length,d=h.map(function(a,d){var e=k/2-d%2,f=k/2-Math.round(d/c);return b("React").createElement(b("Image.react"),{key:d,className:"_4wq6",src:a,style:{width:e+"px",height:f+"px"}})});j=b("React").createElement("div",{className:"_4wq7"+(a.props.result.type==="place"&&b("PageRatingConfig").is_lockup_basic?" _29ip":""),style:{width:k+"px",height:k+"px"}},d)})();else{var o=!1;this.props.result.type==="group"&&(o=this.props.has_module_guidelines);var p=this.props.result.photo,q=b("SearchResultPageExperiments").useUncachedBootstrapEntityModulePictures&&this.props.result.is_bootstrap&&this.props.result.type==="user";q&&(p=b("XSearchProfilePictureController").getURIBuilder().setFBID("fbid",this.props.result.tuid).setInt("width",k).setInt("height",k).getURI().toString());j=b("React").createElement(b("Image.react"),{className:"_2yeu"+(o?" _4lxz":"")+(this.props.result.type==="place"&&b("PageRatingConfig").is_lockup_basic?" _29ip":""),src:p,width:k,height:k,style:{width:k+"px",height:k+"px"}})}q=void 0;o=this.$1;o!=null&&(q=b("React").createElement("div",{className:"_2ye_"},b("React").createElement(b("DOMContainer.react"),null,o),b("React").createElement(b("XUIButton.react"),{className:"_4cei"+(this.state.actionsLoaded?" hidden_elem":""),image:b("React").createElement(b("XUISpinner.react"),{size:"small",background:"dark"}),label:i._("Loading...")})));p=void 0;o=this.state.showCrActions;var r=this.$2;o&&r!=null&&(p=b("React").createElement("div",{className:"_5-zc"},b("React").createElement(b("DOMContainer.react"),null,r),b("React").createElement(b("XUIButton.react"),{className:"_4cei"+(this.state.actionsLoaded?" hidden_elem":""),image:b("React").createElement(b("XUISpinner.react"),{size:"small",background:"dark"}),label:i._("Loading...")})));o=this.props.module_style===b("SearchEntityModuleStyle").XLARGE||this.props.module_style===b("SearchEntityModuleStyle").LARGE;r=this.props.result.is_currently_live&&this.props.result.is_gaming_page?b("React").createElement(b("Image.react"),{className:"_2rru",src:g("404364")}):null;var s=null;this.props.has_module_guidelines?s=b("React").createElement("div",{style:{WebkitLineClamp:2},className:"_52eh _5bcu"},this.props.result.text,e,r):s=b("React").createElement("div",null,this.props.result.text,e,r);e=this.props.result.missing_words!=null?b("React").createElement("div",{className:"_40e4"},b("React").createElement(b("DOMContainer.react"),null,this.props.result.missing_words)):null;r=null;this.props.result.type==="place"&&b("PageRatingConfig").is_lockup_basic?r=b("React").createElement("div",{className:"_2yet"},b("React").createElement(b("Link.react"),{href:c,"data-hovercard":d},j),b("React").createElement(b("PageRecommendationsCircleScore.react"),{className:"_29iq",pageID:parseInt(this.props.result.tuid,10),scoreType:n})):r=b("React").createElement(b("Link.react"),{className:"_2yet",href:c,"data-hovercard":d},j);return b("React").createElement("div",babelHelpers["extends"]({className:"_2yer _401d"+(o?" _2xje":"")+" _2nuh"},this.getLoggingData()),e,r,b("React").createElement("div",{className:"_2yev"},b("React").createElement("div",{className:"_2xjf"},b("React").createElement(b("Link.react"),{href:c,className:(this.props.has_module_guidelines?"_1ii5":"")+" _2yez","data-hovercard":d},s),o?q:null),b("React").createElement("div",{className:"_2ye-"},f.shift(),b("React").createElement("div",{className:"_2xjg"},f)),p,this.state.FoodDrinkSearchHighlight,this.state.ServicesSearchOfferHighlight),o?null:q)};a.prototype.renderActions=function(){__p&&__p();if(!b("CurrentUser").isLoggedIn()){this.setState({actionsLoaded:!0});return}var a=b("SearchEntityModuleServerConstants").TYPE_TO_BROWSE_TYPE[this.props.result.type];a=b("XSearchBrowseActionsController").getURIBuilder().setString("id",this.props.result.tuid).setString("result_type",a);a=new(b("AsyncRequest"))(a.getURI()).setMethod("POST").setHandler(function(a){__p&&__p();var c=this.$1;if(c==null){this.setState({actionsLoaded:!0});return}a=a.getPayload();var d=a.actions!=null?a.actions:"";b("DOM").setContent(c,d);c=!1;a.cr_actions!=null&&(b("DOM").setContent(this.$2,a.cr_actions),c=!0);this.setState({actionsLoaded:!0,showCrActions:c})}.bind(this)).setAllowCrossPageTransition(!0);var c=this.$3;c!=null&&c.push(a);a.send()};a.prototype.logImpression=function(){var a=this.getLoggingData();b("BrowseClientEventLogger").logImpression({xt:a["data-xt"]})};a.prototype.logUnitData=function(){var a=this.props.result;a=b("XSearchBEMUnitDataLoggingController").getURIBuilder().setString("logging_unit_id",a.logging_unit_id).setString("session_id",this.props.browse_session_id).setString("query",this.props.plain_text_query).setString("query_function",this.props.browse_query).setString("tapped_result_entity_id",a.tuid).setString("results_module_role",a.module_role);new(b("AsyncRequest"))(a.getURI()).setAllowCrossPageTransition(!0).send()};a.prototype.componentWillUnmount=function(){var a=this.$3;a!=null&&a.forEach(function(a){a.abandon()})};e.exports=a}),null);
__d("SearchEntityModuleDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationReactDispatcher"));g=c&&c.prototype;function a(a){"use strict";g.constructor.call(this,a),this.dispatch=this.dispatch.bind(this)}e.exports=new a({strict:!0})}),null);
__d("SearchEntityModuleUIConstants",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={Actions:{ADD_MODULE:"ADD_MODULE",ADD_RESULTS:"ADD_RESULTS",REMOVE_ALL_RESULTS_AND_MODULES:"REMOVE_ALL_RESULTS_AND_MODULES"},MODULE_ROLE_TO_TITLE:{user:g._("People"),page:g._("Pages"),group:g._("Groups"),application:g._("Apps"),place:g._("Places"),event:g._("Events")}};e.exports=a}),null);
__d("SearchEntityModuleActions",["SearchEntityModuleDispatcher","SearchEntityModuleUIConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SearchEntityModuleUIConstants").Actions;a={addModule:function(c,a){c={type:g.ADD_MODULE,value:{sessionID:c,module:a}};b("SearchEntityModuleDispatcher").dispatch(c)},addResultsToModule:function(c,a,d){c={type:g.ADD_RESULTS,value:{sessionID:c,module:a,results:d}};b("SearchEntityModuleDispatcher").dispatch(c)},clearAllResultsAndModules:function(a){a={type:g.REMOVE_ALL_RESULTS_AND_MODULES,value:{sessionID:a}};b("SearchEntityModuleDispatcher").dispatch(a)}};e.exports=a}),null);
__d("SearchEntityModuleContainerStore",["FluxReduceStore","immutable","SearchEntityModuleDispatcher","SearchEntityModuleUIConstants","SearchResultPageExperiments"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SearchEntityModuleUIConstants").Actions;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return b("immutable").Map()};a.prototype.reduce=function(a,c){__p&&__p();var d;void 0;var e=c.value.sessionID;switch(c.type){case h.ADD_MODULE:d=a.get(e);d==null&&(d=b("immutable").List([]));d=d.push(babelHelpers["extends"]({},c.value.module,{results:b("immutable").List([])}));a=a.set(e,d);break;case h.ADD_RESULTS:d=a.get(e);d==null&&(d=b("immutable").List([]));d=this.addResultsWithoutDupes(e,d,c.value.module,c.value.results);a=a.set(e,d);break;case h.REMOVE_ALL_RESULTS_AND_MODULES:d=a.get(e);d!=null&&(d=d.clear(),a=a.set(e,d));break;default:break}return a};a.prototype.addResultsWithoutDupes=function(a,b,c,d){__p&&__p();e=b.find(function(a){return a.role===c.role&&a.is_bootstrap_entity_module===c.is_bootstrap_entity_module&&a.id===c.id});if(e==null)return b;a=e.results;var f=b.first();f!=null&&f.is_bootstrap_entity_module&&(a=f.results.concat(a));f=a.map(function(a){return a.tuid});a=[];for(var d=d,g=Array.isArray(d),h=0,d=g?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=d.length)break;i=d[h++]}else{h=d.next();if(h.done)break;i=h.value}i=i;f.indexOf(i.tuid)===-1&&(f.push(i.tuid),a.push(i))}e.results=e.results.concat(a);return b};a.prototype.getResults=function(c,a){__p&&__p();c=this.getState().get(c);var d=null;for(var f=c,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;i.role===a.role&&i.is_bootstrap_entity_module===a.is_bootstrap_entity_module&&i.id===a.id&&(d=i)}if(d==null)return b("immutable").List([]);i=c.get(0);h=c.get(1);g=i.results.size>0?i.results.first().type:null;f=d.results.size>0?d.results.first().type:null;if(b("SearchResultPageExperiments").removeNonAdjacentBEMModuleRole&&i.is_bootstrap_entity_module&&g!==null&&g===f&&d!==i&&d!==h)return b("immutable").List([]);if(i!=null&&i.is_bootstrap_entity_module&&i.results.size>0&&h!=null&&h.results.size>0){a=h.results.first().type;c=g===a;if(c)if(d===i)return i.results.concat(h.results);else if(d===h)return b("immutable").List([])}return d.results};a.prototype.getModules=function(a){var c=this.getState(),d=this.getState().get(a);d==null&&(d=b("immutable").List([]),c.set(a,d));return d};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("SearchEntityModuleDispatcher"))}),null);
__d("SearchEntityModuleUtils",["Base64","SearchEntityModuleActions","SearchEntityModuleContainerStore","SearchEntityModuleDispatcher","SearchEntityModuleServerConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports={addModules:function(a,c){__p&&__p();b("SearchEntityModuleDispatcher").explicitlyRegisterStores([b("SearchEntityModuleContainerStore")]);var d=b("SearchEntityModuleContainerStore").getModules(c),e=function(a){var e=d.find(function(b){return b.role===a.role&&b.id===a.id&&b.is_bootstrap_entity_module===a.is_bootstrap_entity_module});e==null&&b("SearchEntityModuleActions").addModule(c,a)};for(var a=a,f=Array.isArray(a),g=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=a.length)break;h=a[g++]}else{g=a.next();if(g.done)break;h=g.value}h=h;e(h)}},addRefParamToSeeMoreURI:function(a,c,d){d={ref:d==="header"?b("SearchEntityModuleServerConstants").BROWSE_NAV_SOURCE_HEADER_SEE_ALL:b("SearchEntityModuleServerConstants").BROWSE_NAV_SOURCE_SEE_MORE};c!=null&&(d.sid=c);return a.setQueryData(babelHelpers["extends"]({},a.getQueryData(),{ref:b("Base64").encode(JSON.stringify(d)).replace(/\=+$/,"")}))}}}),null);
__d("SearchEntityModule.react",["cx","fbt","Arbiter","AsyncRequest","BrowseWebSLRPELoggerClickType","DOMContainer.react","Link.react","React","SearchEntityModuleResult.react","SearchEntityModuleServerConstants","SearchEntityModuleUtils","SearchHCMUtil","SubscriptionsHandler","URI","ViewableImpressionTracking","XSearchBEMUnitDataLoggingController","XUICard.react","XUICardHeader.react","XUICardHeaderTitle.react","XUICardSection.react","memoize","memoizeWithArgs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){i.constructor.call(this,a),this.state={isExpanded:!1,shouldRenderFooter:!1,results:[]},this.onSeeMoreLinkClick=function(event){event.preventDefault(),this.setState({isExpanded:!0})}.bind(this),this.getModuleLoggingData=b("memoize")(function(){var a=b("SearchEntityModuleServerConstants").WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE;a=a+JSON.stringify({query:this.props.browse_query,session_id:this.props.browse_session_id,module_type:this.props.module_role,unit_id:this.props.logging_unit_id,unit_id_click_type:b("BrowseWebSLRPELoggerClickType").VIEW_PORT_VIEWS_ON_SEARCH_RESULTS});return{"data-xt":a,"data-xt-vimp":JSON.stringify(this.props.client_view_config)}}.bind(this)),this.getSeeMoreLoggingData=b("memoizeWithArgs")(function(a){var c=b("SearchEntityModuleServerConstants").WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE,d=b("SearchEntityModuleServerConstants").SEE_MORE_LOGGING.MODULE_HEADER_ITEM_TYPE,e=b("SearchEntityModuleServerConstants").SEE_MORE_LOGGING.MODULE_FOOTER_ITEM_TYPE;c=c+JSON.stringify({item_type:a==="header"?d:e,module_type:this.props.module_role,query:this.props.browse_query,session_id:this.props.browse_session_id,source_module_role:this.props.module_role,vertical:"content",unit_id:this.props.logging_unit_id,unit_id_click_type:b("BrowseWebSLRPELoggerClickType").SEE_MORE_TAPPED});return{"data-xt":c,"data-gt":JSON.stringify({type:"xtracking",xt:c}),"data-xt-vimp":JSON.stringify(this.props.client_view_config),"data-vistracking":"1","data-bt":JSON.stringify({ct:"see_more",source_module_role:this.props.module_role})}}.bind(this),function(a){return a}),this.$1=new(b("SubscriptionsHandler"))(),a.is_high_confidence_module&&(this.$2=b("SearchHCMUtil").getModelsWrapper())}a.prototype.componentDidMount=function(){this.props.logging_unit_id!=null&&this.props.is_bootstrap_entity_module&&(this.logUnitData(),b("ViewableImpressionTracking").init()),this.props.is_bootstrap_entity_module&&this.$1.addSubscriptions(b("Arbiter").subscribeOnce("Search/addResultsToBEM",function(a,b){this.setState({results:this.state.results.concat(b.results),shouldRenderFooter:!0})}.bind(this)),b("Arbiter").subscribeOnce("Search/firstModuleIsNotBEMMergable",function(){this.setState({shouldRenderFooter:!0})}.bind(this)))};a.getDerivedStateFromProps=function(a){a.is_high_confidence_module&&b("SearchHCMUtil").clearModelsWrapper();return{isExpanded:a.num_results_to_show==null,shouldRenderFooter:a.should_render_footer,results:a.results}};a.prototype.render=function(){__p&&__p();var a=this.props.num_results_to_show;a=!this.state.isExpanded&&a!=null?this.state.results.slice(0,a):this.state.results;if(a.length===0)return b("React").createElement("div",null);a=a.map(function(a,c){return b("React").createElement(b("SearchEntityModuleResult.react"),{key:a.tuid+c,result:a,position_in_module:c,browse_query:this.props.browse_query,client_view_config:this.props.client_view_config,browse_session_id:this.props.browse_session_id,module_style:this.props.module_style,module_role:this.props.module_role,plain_text_query:this.props.plain_text_query,has_module_guidelines:this.props.has_module_guidelines,viewer_id:this.props.viewer_id})}.bind(this));var c=void 0,d=this.props.see_more_uri!=null?new(b("URI"))(this.props.see_more_uri):null;d!=null&&(c=b("React").createElement(b("Link.react"),babelHelpers["extends"]({},this.getSeeMoreLoggingData("header"),{href:b("SearchEntityModuleUtils").addRefParamToSeeMoreURI(d,this.props.typeahead_session_id,"header")}),h._("See All")));d=void 0;if(!this.props.is_high_confidence_module){var e=this.props.title instanceof Object&&this.props.title.__html!=null?b("React").createElement("span",{dangerouslySetInnerHTML:this.props.title}):this.props.title;d=b("React").createElement(b("XUICardHeader.react"),{link:c,type:"primary"},b("React").createElement(b("XUICardHeaderTitle.react"),{role:"heading","aria-level":"3"},b("React").createElement("div",{className:"_5w9e"}),e))}c=this.$2!=null?b("React").createElement(b("DOMContainer.react"),null,this.$2):null;return b("React").createElement("div",babelHelpers["extends"]({},this.getModuleLoggingData(),{className:"_5w7z"+(this.props.is_high_confidence_module?" _1-nm":"")+(this.props.result_type==="user"&&this.props.module_role==="SHORTCUT_PEOPLE"?" _d7o":"")+(this.props.result_type==="user"?" _5w81":"")+(this.props.result_type==="page"?" _5w82":"")+(this.props.result_type==="group"?" _5w84":"")+(this.props.result_type==="application"?" _3h4u":"")+(this.props.result_type==="place"?" _5w9b":"")+(this.props.result_type==="event"?" _5w9c":"")}),b("React").createElement(b("XUICard.react"),{className:"_5w9d"},d,b("React").createElement(b("XUICardSection.react"),null,a,this.maybeRenderFooter()),c))};a.prototype.maybeRenderFooter=function(){__p&&__p();if(!this.state.shouldRenderFooter)return[];var a=[],c=b("React").createElement(b("Link.react"),babelHelpers["extends"]({key:"see_more_footer"},this.getSeeMoreLoggingData("footer"),{href:"",onClick:this.onSeeMoreLinkClick,className:"_5w9f"+(this.state.isExpanded||this.props.num_results_to_show==null||this.state.results.length<=this.props.num_results_to_show?" hidden_elem":"")}),h._("See All"));a.push(c);c=this.props.see_more_uri!=null?new(b("URI"))(this.props.see_more_uri):null;if(c!=null){c=b("React").createElement(b("Link.react"),babelHelpers["extends"]({key:"see_all_footer"},this.getSeeMoreLoggingData("footer"),{href:b("SearchEntityModuleUtils").addRefParamToSeeMoreURI(c,this.props.typeahead_session_id,"footer"),className:"_5w9f"+(!this.state.isExpanded&&this.props.num_results_to_show!=null&&this.state.results.length>this.props.num_results_to_show?" hidden_elem":"")}),h._("See All"));a.push(c)}return a};a.prototype.logUnitData=function(){var a=b("XSearchBEMUnitDataLoggingController").getURIBuilder().setString("logging_unit_id",this.props.logging_unit_id).setString("session_id",this.props.browse_session_id).setString("query",this.props.plain_text_query).setString("query_function",this.props.browse_query).setString("results_module_role",this.props.module_role).setInt("bootstrap_item_count",this.state.results.filter(function(a){return a.is_bootstrap}).length).setStringSet("entity_ids",this.state.results.map(function(a){return a.tuid})).setBool("should_log_module_impression",!0);new(b("AsyncRequest"))(a.getURI()).setAllowCrossPageTransition(!0).send()};a.prototype.componentWillUnmount=function(){this.$1.release()};e.exports=a}),null);
__d("SearchResultPageElementID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BOOTSTRAP_ENTITY_MODULE:"bootstrap_entity_module",LAYOUT_PAGELET:"initial_browse_result",LAYOUT_PAGELET_DISPLAY_DEPENDENCY:"pagelet_loader_initial_browse_result",INDEPENDENT_MODULE:"browse:independent:modules:pagelet",INDEPENDENT_MODULE_DISPLAY_DEPENDENCY:"pagelet_loader_browse:independent:modules:pagelet",LHC_CONTAINER:"browse_lhc_container",LHC_TABS_PAGELET:"pagelet_lhc_tabs",LHC_FILTERS_PAGELET:"pagelet_lhc_filters",LHC_NAV_PAGELET:"pagelet_lhc_nav",LHC_PLACES_PAGELET:"pagelet_lhc_places",CONTENT_CONTAINER:"browse_result_area",RHC_CONTAINER:"browse_rhc_container",RHC_RELATED_SEARCHES_PAGELET:"pagelet_rhc_related_searches",RHC_TRENDING_PAGELET:"pagelet_rhc_trending",RHC_PLACES_PAGELET:"pagelet_rhc_places"})}),null);
__d("SearchResultPageNavigation",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NORMAL:"normal",INITIAL_QUICKLING:"initial_quickling",QUICKLING:"quickling",ASYNC:"async"})}),null);
__d("SearchResultPageNavigationPerfMetrics",["Arbiter","SearchResultPageElementID","SearchResultPageNavigation","SearchResultPageNavigationPerfTypedLogger","SubscriptionsHandler","URI","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=/\/search\/.+/g,h=[b("SearchResultPageElementID").INDEPENDENT_MODULE_DISPLAY_DEPENDENCY,b("SearchResultPageElementID").LAYOUT_PAGELET_DISPLAY_DEPENDENCY],i=null,j=null,k=null;function l(a){__p&&__p();this.$1=null;this.$2=null;this.$3=!1;this.$4=0;i=this;k=new(b("SearchResultPageNavigationPerfTypedLogger"))();this.$4=this.$5();a=new(b("URI"))(window.location).getPath();a.match(g)&&this.$6();this.$7(a)}l.prototype.enable=function(){this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("Arbiter").subscribe("pre_page_transition",function(event,a){this.$3=j!=null,this.$4=b("performanceAbsoluteNow")(),j=null,k=new(b("SearchResultPageNavigationPerfTypedLogger"))(),this.$7(a.to.getPath())}.bind(this)))};l.prototype.disable=function(){this.$8(),this.$1!=null&&(this.$1.release(),this.$1=null)};l.prototype.$6=function(){__p&&__p();var a=function(a){b("Arbiter").subscribeOnce(a+"_displayed",function(event,b){l.setElementDisplayEndTime(a)},b("Arbiter").SUBSCRIBE_NEW)};for(var c=h,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;a(f)}};l.prototype.$9=function(){__p&&__p();if(this.$2==null)return;this.$2.addSubscriptions(b("Arbiter").subscribe("BigPipe/init",function(event,a){__p&&__p();var c=function(c){a.arbiter.subscribe(c+"_displayed",function(event,a){l.setElementDisplayEndTime(c)},b("Arbiter").SUBSCRIBE_NEW)};for(var d=h,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c(g)}},b("Arbiter").SUBSCRIBE_NEW))};l.prototype.$7=function(a){!a.match(g)?this.$8():this.$2==null&&(this.$2=new(b("SubscriptionsHandler"))(),this.$9())};l.prototype.$5=function(){var a=window.performance||window.msPerformance;return!a||!a.timing?0:a.timing.navigationStart};l.prototype.$8=function(){k=null,j=null,this.$3=!1,this.$4=0,this.$2!=null&&(this.$2.release(),this.$2=null)};l.prototype.logSessionNavigationStats=function(){if(j==null||k==null)return;j.nav_type==b("SearchResultPageNavigation").QUICKLING&&(this.$3||(j.nav_type=b("SearchResultPageNavigation").INITIAL_QUICKLING));k.setVC().setAppID(j.app_id).setReferrer(j.ref).setCaller(j.callsite).setFilterType(j.filter_type).setSessionID(j.session_id).setNavType(j.nav_type).setNavigationStartTime(Math.floor(this.$4)).log()};l.setElementDisplayEndTime=function(a){__p&&__p();if(i==null||k==null)return;var c=Math.floor(b("performanceAbsoluteNow")());switch(a){case b("SearchResultPageElementID").BOOTSTRAP_ENTITY_MODULE:k.setBemDisplayTime(c);break;case b("SearchResultPageElementID").INDEPENDENT_MODULE_DISPLAY_DEPENDENCY:k.setIemDisplayTime(c);break;case b("SearchResultPageElementID").LAYOUT_PAGELET_DISPLAY_DEPENDENCY:k.setBrowseLayoutPageletDisplayTime(c);i.logSessionNavigationStats();break;default:break}};l.setSessionStats=function(a){j=a};e.exports=l}),null);
__d("SearchEntityModuleContainer.react",["ContextualComponent","FluxContainer","immutable","React","ReactDOM","SearchEntityModule.react","SearchEntityModuleActions","SearchEntityModuleContainerStore","SearchEntityModuleDispatcher","SearchResultPageElementID","SearchResultPageNavigationPerfMetrics","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(h,b("React").Component);g&&g.prototype;h.getStores=function(){return[b("SearchEntityModuleContainerStore")]};h.calculateState=function(a,c){return{modules:b("SearchEntityModuleContainerStore").getModules(h.getModuleKey(c))}};h.getModuleKey=function(a){return b("gkx")("AT62Nx659VK8BA3J8WVnh9o84rumOfj-epEgBpeRVs9qCHJcaCRSIqqR8zk4uwZMyaeeRYOVyGtJjYyavV5mYaTPQ2qoxmqcpNH1KtpKvSjYRw")?a.serp_unit_id:a.browse_session_id};h.prototype.UNSAFE_componentWillMount=function(){b("SearchEntityModuleDispatcher").explicitlyRegisterStores([b("SearchEntityModuleContainerStore")])};h.prototype.componentWillUnmount=function(){b("SearchEntityModuleActions").clearAllResultsAndModules(h.getModuleKey(this.props))};h.prototype.render=function(){__p&&__p();var a=this.state.modules;a=a.find(function(a){return a.role===this.props.module_role&&a.is_bootstrap_entity_module===this.props.is_bootstrap_entity_module&&a.id===this.props.id}.bind(this));if(a!=null&&a.component==null){a.component=this;b("SearchEntityModuleActions").addResultsToModule(h.getModuleKey(this.props),{id:this.props.id,role:this.props.module_role,is_bootstrap_entity_module:this.props.is_bootstrap_entity_module},b("immutable").List(this.props.results));this.forceUpdate();return b("React").createElement("div",null)}if(a!=null&&a.component===this){a=b("SearchEntityModuleContainerStore").getResults(h.getModuleKey(this.props),{id:this.props.id,role:this.props.module_role,is_bootstrap_entity_module:this.props.is_bootstrap_entity_module});return b("React").createElement(b("SearchEntityModule.react"),{plain_text_query:this.props.plain_text_query,browse_query:this.props.browse_query,module_role:this.props.module_role,result_type:this.props.result_type,results:a.toArray(),num_results_to_show:this.props.num_results_to_show,client_view_config:this.props.client_view_config,browse_session_id:this.props.browse_session_id,module_style:this.props.module_style,title:this.props.title,see_more_uri:this.props.see_more_uri,logging_unit_id:this.props.logging_unit_id,is_bootstrap_entity_module:this.props.is_bootstrap_entity_module,has_module_guidelines:this.props.has_module_guidelines,should_render_footer:!0,viewer_id:this.props.viewer_id,typeahead_session_id:this.props.typeahead_session_id,is_high_confidence_module:!1})}return b("React").createElement("div",null)};h.prototype.componentDidMount=function(){var a=b("ReactDOM").findDOMNode(this).parentNode;if(a!=null){var c=b("ContextualComponent").closestToNode(a);c!=null&&c.onUnmount(function(){b("ReactDOM").unmountComponentAtNode(a)})}this.props.is_bootstrap_entity_module&&b("gkx")("AT528Od5fK-0zPrSmlNNJf3YXeUxetp_aKAsL-Uhu898gobvWBvscv2Sobr_sYCptiVSJ3MkFJwrqnDv7kK8iQ_g5tm0wqtEs_OshjDGplvu0w")&&b("SearchResultPageNavigationPerfMetrics").setElementDisplayEndTime(b("SearchResultPageElementID").BOOTSTRAP_ENTITY_MODULE)};function h(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(h,{withProps:!0})}),null);
__d("SearchBootstrapEntityModule",["Arbiter","ReactRenderer","SearchBootstrapEntityModuleDebugUtil","SearchBootstrapEntityModuleUtil","SearchEntityModuleContainer.react","SearchEntityModuleContainerStore","SearchEntityModuleDispatcher","SearchEntityModuleServerConstants","SearchEntityModuleUtils","gkx","tidyEvent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="pagelet_loader_browse:independent:modules:pagelet",h="pagelet_loader_initial_browse_result",i=void 0,j=!1,k={init:function(a){i=a;b("tidyEvent")(b("Arbiter").subscribe("pagelet_event",function(event,a){event==="display"&&(a.id===g||a.id===h)&&(j=!0)}));a=i.squashed_ent_ids?i.squashed_ent_ids:[];b("Arbiter").inform("FacebarDataSource.getBootstrapMatches",{query:i.plain_text_query,callback:function(a){k.onBootstrapResponse(a)},whitelistedEntIds:a},b("Arbiter").BEHAVIOR_PERSISTENT)},onBootstrapResponse:function(a){__p&&__p();var c=b("SearchBootstrapEntityModuleUtil").transformRawBootstrapResultsToEntityModuleResults(a,i.browse_session_id);if(j||c.length===0){j?b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("old_bem",c.length===0?"backend_faster_no_matches":"backend_faster_with_matches",a,i.preloaded_entity_ids):b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("old_bem","no_matches",a,i.preloaded_entity_ids);return}b("SearchEntityModuleDispatcher").explicitlyRegisterStores([b("SearchEntityModuleContainerStore")]);var d=b("gkx")("AT62Nx659VK8BA3J8WVnh9o84rumOfj-epEgBpeRVs9qCHJcaCRSIqqR8zk4uwZMyaeeRYOVyGtJjYyavV5mYaTPQ2qoxmqcpNH1KtpKvSjYRw")?i.serp_unit_id:i.browse_session_id,e=b("SearchEntityModuleContainerStore").getModules(d);if(e.size>0){b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("old_bem","backend_faster_with_matches",a,i.preloaded_entity_ids);return}e=b("SearchEntityModuleServerConstants").RESULT_TYPE_TO_MODULE_ROLE[c[0].type];b("SearchEntityModuleUtils").addModules([{id:-1,role:e,is_bootstrap_entity_module:!0}],d);b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("old_bem","shown",a,i.preloaded_entity_ids);b("ReactRenderer").constructAndRenderComponent(b("SearchEntityModuleContainer.react"),{plain_text_query:i.plain_text_query,browse_query:i.browse_query,results:c,result_type:c[0].type,module_role:e,is_bootstrap_entity_module:!0,num_results_to_show:i.num_results_to_show,client_view_config:i.client_view_config,browse_session_id:i.browse_session_id,serp_unit_id:i.serp_unit_id,module_style:i.module_style,title:b("SearchBootstrapEntityModuleUtil").getTitleForResultType(c[0].type),see_more_uri:b("SearchBootstrapEntityModuleUtil").getSeeMoreURIForResults(c,i.plain_text_query),logging_unit_id:i.logging_unit_id,has_module_guidelines:i.has_module_guidelines,viewer_id:i.viewer_id,id:-1,typeahead_session_id:i.typeahead_session_id},i.root)}};e.exports=k}),null);
__d("SearchResultPageNavigationLoader",["AjaxPipeRequest","DOMScroll","FIGEntityPageLayout","PageTransitions","PageTransitionsRegistrar","Run"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[],h=null;function i(a){__p&&__p();var b=!1;for(var c=g,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;if(f(a)){b=!0;break}}return b}a={_firstResponseCallback:null,registerPageTransitionHandler:function(a){g.length||(b("PageTransitionsRegistrar").registerHandler(i,3),b("Run").onLeave(function(){this.cancelRequest(),b("PageTransitionsRegistrar").removeHandler(i,3),g=[]}.bind(this))),g.push(a)},setFirstResponseCallback:function(a){this._firstResponseCallback=a},setFinallyHandlerCallback:function(a){this._finallyHandlerCallback=a},send:function(a,c){var d=babelHelpers["extends"]({},a.getQueryData(),{path:a.getPath(),async:!0});h=new(b("AjaxPipeRequest"))(c,a).setData(d).setFirstResponseHandler(function(){b("DOMScroll").scrollToTop(!1)}).setFinallyHandler(function(a){h=null,b("FIGEntityPageLayout").update(),b("PageTransitions").transitionComplete(!0),this._finallyHandlerCallback&&this._finallyHandlerCallback(a)}.bind(this));this._firstResponseCallback!==null&&h.setFirstResponseCallback(this._firstResponseCallback);h.send()},cancelRequest:function(){h!=null&&(h.abort(),h=null)}};e.exports=a}),null);
__d("SearchResultPageTabsLoaderUtil",["DOM","PageTransitions","UIPagelet","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={constHeight:!0,automatic:!0,usePipe:!0},h=new RegExp("^/(search/places)|(search/str.+/keywords_places)|(search/*.+/places/intersect)");function i(a,c,d){a=b("DOM").create("div",{id:a.id});!d?b("DOM").insertAfter(c,a):b("DOM").prependContent(c,a);return a}a={createNewPagelet:function(a,c,d,e){c=i(a,c,d);return b("UIPagelet").loadFromEndpoint(a.controller,c,a.data,babelHelpers["extends"]({finallyHandler:e},g))},createUIPageletRequestConfig:function(a,b,c){b=i(a,b,c);return{controller:a.controller,target_element:b,data:a.data,options:g}},shouldReloadRHC:function(){var a=b("URI").getRequestURI(!1).getPath(),c=b("PageTransitions").getNextURI().getPath();return a.match(h)!=null||c.match(h)!=null}};e.exports=a}),null);
__d("SearchResultPageTabsLoader",["csx","cx","BanzaiODS","ContextualComponent","CSS","DOM","DOMQuery","PageletSet","Run","SearchBootstrapEntityModuleUtil","SearchResultPageNavigationLoader","SearchResultPageTabsLoaderUtil","UIPagelet","findTag"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="._5vwz",j="._5vwy",k="_5vwy",l=/\/search\/.+/g,m="XHPLeftNavPagelet";a={config:{},containerElements:{},lhcPageletRequest:null,rhcPageletRequests:[],batchedPagelets:[],init:function(a){this.config=a,this.containerElements={lhc:this.config.hideLHC||this.config.leftHandColumnContainerID==null?null:b("findTag")(this.config.leftHandColumnContainerID,"div"),content:this.config.leftHandColumnContainerID==null?null:b("findTag")(this.config.contentContainerID,"div"),rhc:this.config.hideRHC||!this.config.rightHandColumnContainerID==null?null:b("findTag")(this.config.rightHandColumnContainerID,"div")},b("SearchResultPageNavigationLoader").registerPageTransitionHandler(function(a){return this._onTransition(a)}.bind(this)),this.config.hasInstantHide&&b("SearchResultPageNavigationLoader").setFirstResponseCallback(function(){this._showColumns()}.bind(this)),this.config.hasBatchedRequest&&b("SearchResultPageNavigationLoader").setFinallyHandlerCallback(function(){this._loadSideColumns()}.bind(this)),b("Run").onLeave(function(){this.config={},this.containerElements={},this.lhcPageletRequest=null,this.rhcPageletRequests=[],this.batchedPagelets=[]}.bind(this))},reloadLeftHandColumn:function(a){__p&&__p();if(this.containerElements.lhc==null){b("BanzaiODS").bumpEntityKey("search.www.async_nav","reload_lhc.null_lhc");return}if(a.controller===m&&b("PageletSet").hasPagelet(a.id))return;var c=b("ContextualComponent").forNode(this.containerElements.lhc);c!=null&&c.unmount();b("PageletSet").hasPagelet(this.config.leftHandColumnPageletID)&&b("PageletSet").removePagelet(this.config.leftHandColumnPageletID);this.config.leftHandColumnPageletID!=null&&b("DOM").remove(b("findTag")(this.config.leftHandColumnPageletID,"div"));if(!this.config.hasBatchedRequest)this.lhcPageletRequest=b("SearchResultPageTabsLoaderUtil").createNewPagelet(a,this.containerElements.lhc,!0),this.config.leftHandColumnPageletID=a.id;else{c=b("SearchResultPageTabsLoaderUtil").createUIPageletRequestConfig(a,this.containerElements.lhc,!0);this.batchedPagelets.push(c)}this.config.leftHandColumnPageletID=a.id},reloadRightHandColumn:function(a){__p&&__p();if(this.containerElements.rhc==null){b("BanzaiODS").bumpEntityKey("search.www.async_nav","reload_rhc.null_rhc");return}var c={},d=this.containerElements.rhc,e=d;for(var a=a,f=Array.isArray(a),g=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=a.length)break;h=a[g++]}else{g=a.next();if(g.done)break;h=g.value}h=h;if(!b("PageletSet").hasPagelet(h.id)&&e){var i=e===d;if(!this.config.hasBatchedRequest){var j=b("SearchResultPageTabsLoaderUtil").createNewPagelet(h,e,i);this.rhcPageletRequests.push(j);e=j.getElement()}else{j=b("SearchResultPageTabsLoaderUtil").createUIPageletRequestConfig(h,e,i);this.batchedPagelets.push(j);e=j.target_element}}else b("PageletSet").hasPagelet(h.id)&&(e=b("PageletSet").getPagelet(h.id).getRoot());this.config.rightHandColumnPagelets[h.id]&&delete this.config.rightHandColumnPagelets[h.id];c[h.id]=!0}i=b("ContextualComponent").forNode(this.containerElements.rhc);i!=null&&i.unmount();for(var j=Object.keys(this.config.rightHandColumnPagelets),h=Array.isArray(j),g=0,j=h?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(g>=j.length)break;f=j[g++]}else{g=j.next();if(g.done)break;f=g.value}a=f;b("PageletSet").hasPagelet(a)&&b("PageletSet").removePagelet(a);b("DOM").remove(b("findTag")(a,"div"))}this.config.rightHandColumnPagelets=c},setSelectedTab:function(a){__p&&__p();var c=this.config.tabsRootNode,d=b("DOM").scry(c,i);c=b("DOMQuery").scry(c,j);var e=null;for(var d=d,f=Array.isArray(d),g=0,d=f?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=d.length)break;h=d[g++]}else{g=d.next();if(g.done)break;h=g.value}h=h;if(h.getAttribute("data-edge")===a){e=h;break}}for(var h=c,g=Array.isArray(h),f=0,h=g?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(f>=h.length)break;d=h[f++]}else{f=h.next();if(f.done)break;d=f.value}a=d;b("CSS").removeClass(a,k)}e!==null&&b("CSS").addClass(e,k)},_onTransition:function(a){this._cancelRequests();var c=a.getPath(),d=b("SearchBootstrapEntityModuleUtil").getQueryFromURI(a);if(c.match(l)&&d===this.config.initialQuery){this.config.hasInstantHide&&this._hideColumns();b("SearchResultPageNavigationLoader").send(a,this.config.contentContainerID);return!0}return!1},_cancelRequests:function(){b("SearchResultPageNavigationLoader").cancelRequest(),this.config.hasBatchedRequest||(this.lhcPageletRequest!==null&&(this.lhcPageletRequest.cancel(),this.lhcPageletRequest=null),this.rhcPageletRequests.length>0&&(this.rhcPageletRequests.forEach(function(a){return a.cancel()}),this.rhcPageletRequests=[]))},_hideColumns:function(){var a=b("SearchResultPageTabsLoaderUtil").shouldReloadRHC();this.containerElements.content!=null&&b("CSS").hide(this.containerElements.content);a&&this.containerElements.rhc!=null&&b("CSS").hide(this.containerElements.rhc);this.containerElements.lhc!=null&&b("CSS").hide(this.containerElements.lhc)},_showColumns:function(){this.containerElements.content!=null&&b("CSS").show(this.containerElements.content),this.containerElements.rhc!=null&&b("CSS").show(this.containerElements.rhc),this.containerElements.lhc!=null&&b("CSS").show(this.containerElements.lhc)},_loadSideColumns:function(){this.batchedPagelets.length>0&&b("UIPagelet").loadFromEndpointBatched(this.batchedPagelets,null,this.batchedPagelets.length),this.batchedPagelets=[]}};e.exports=a}),null);
__d("FacebarSemanticQuery",["CurrentUser","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="str",h=/\*[\w\-]+\(/g;function i(a){var c={me:b("CurrentUser").getID()};return Object.assign(c,Array.isArray(a.semantic_map)?{}:a.semantic_map)}function j(a,b){a=i(a);return typeof a[b]!=="undefined"?String(a[b]):b}function k(a){return new(b("URI"))("/profile.php").addQueryData({id:a})}function l(a,c){__p&&__p();c=[c];var d=[],e=a.browse_functions;a=a.search_path;while(c.length>0){var f=c.pop();if(!o(f)){d.push(f);continue}var h=f.substring(0,f.indexOf("(")),i=h;f=p(f);if(!e[h]){d=[];break}var j=e[h].minNumParams,k=e[h].maxNumParams;c.length>0&&(e[h].numParamsUnbounded?d.length>0&&(h+="-"+f.length):(f.length!=1&&f.length>j||f.length===0&&j!=k)&&(h+="-"+f.length));c.push(h);for(var j=0;j<f.length;j++){if(f[j].length===0)continue;e[i].allowsFreeText?c.push(g+"/"+encodeURIComponent(encodeURIComponent(f[j]))):c.push(f[j])}}return new(b("URI"))(a+d.join("/"))}function m(a){return a.replace(/[\'\"\[\]]/g,"")}function n(a,c){__p&&__p();c=JSON.parse(c);var d=[];c.length>0&&(d=[c[0]]);c=[];var e=a.browse_functions;a=a.search_path;while(d.length>0){var f=d.pop();if(typeof f!=="object"){c.push(m(f));continue}var h=Object.keys(f)[0],i=h;f=f[h];if(!e[h]){c=[];break}var j=e[h].minNumParams,k=e[h].maxNumParams;d.length>0&&(e[h].numParamsUnbounded?c.length>0&&(h+="-"+f.length):(f.length!=1&&f.length>j||f.length===0&&j!=k)&&(h+="-"+f.length));d.push(h);for(var j=0;j<f.length;j++){if(f[j].length===0)continue;e[i].allowsFreeText?d.push(g+"/"+encodeURIComponent(f[j])):d.push(f[j])}}return new(b("URI"))(a+c.join("/"))}function o(a){return/^[a-z\-]+\(.*\)$/.test(a)}function p(a){if(!o(a)&&a.indexOf("param_")!==0)return[a];a=a.substring(a.indexOf("(")+1,a.length-1);return a.length===0?[]:q(a)}function q(a){var b=[],c=0,d=0;for(var e=0;e<a.length;++e)a[e]==","&&d===0?(b.push(a.substring(c,e)),c=e+1):a[e]=="("?d++:a[e]==")"&&d--;b.push(a.substring(c,a.length));return b}function a(a,b,c){this.facebarConfig=a,this.unmapped=(b||"").trim(),this.mapped=j(a,this.unmapped),this.position=null,this.$1=c!==undefined?c:!1}a.prototype.isEntity=function(){return/^\d+$/.test(this.mapped)};a.prototype.isShortcut=function(){return this.mapped.indexOf("shortcut(")===0};a.prototype.isImplemented=function(){return this.mapped&&!this.mapped.match(h)};a.prototype.isSemanticForest=function(){return this.$1};a.prototype.getUnimplemented=function(){return(this.mapped.match(h)||[]).map(function(a){return a.substr(1,a.length-2)})};a.prototype.getURI=function(){if(this.isEntity())return k(this.mapped);else if(this.isShortcut())return new(b("URI"))(this.mapped.substr(9,this.mapped.length-10));else if(this.isSemanticForest())return n(this.facebarConfig,this.unmapped);else return l(this.facebarConfig,this.unmapped)};e.exports=a}),null);
__d("LocalSERPSurfaceRequestParam",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SINGLE_STATE:"sist",TYPEAHEAD:"tyah",ECHO:"ec",SERP_TO_SERP:"s2s",NEARBY_PLACES:"nepl",FEED_STORY:"fest",PLACES_TAB:"plta",NOTIFICATIONS:"noti",RECENT_SEARCHES:"rese",TODAY:"to",SHARED_LINK:"lnk"})}),null);
__d("FacebarURI",["FacebarJSConstants","FacebarSemanticQuery","KeywordsSearchResultConfig","LocalSERPSurfaceRequestParam","URI","WWWBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={event:{ref:b("FacebarJSConstants").eventLinkRef},user:{fref:"ts"},page:{fref:"ts"}},h={getSearchRawPrefix:function(){return"search"},getSearchPath:function(){return"/"+this.getSearchRawPrefix()+"/"},getURI:function(a,c){__p&&__p();var d=null,e=!c.song&&!c.isExtendedResult&&c.path;if(e)d=new(b("URI"))(e),c.type in g&&d.addQueryData(g[c.type]);else if(b("KeywordsSearchResultConfig").use_seo_urls&&c.type===b("KeywordsSearchResultConfig").result_type&&c.semantic.startsWith("str/"))c.keywordType===b("FacebarJSConstants").keywordTypes.local_category?d=new(b("URI"))("/search/places").addQueryData("q",c.keyword?c.keyword:c.text):d=new(b("URI"))(b("KeywordsSearchResultConfig").seo_top_url).addQueryData("q",c.keyword?c.keyword:c.text);else{e=new(b("FacebarSemanticQuery"))(a,c.semantic);e&&e.isImplemented()&&(d=e.getURI());c.keywordType===b("FacebarJSConstants").keywordTypes.local&&(c.isSingleState?d.addQueryData("surface",b("LocalSERPSurfaceRequestParam").SINGLE_STATE):c.isRecent?d.addQueryData("surface",b("LocalSERPSurfaceRequestParam").RECENT_SEARCHES):d.addQueryData("surface",b("LocalSERPSurfaceRequestParam").TYPEAHEAD))}return d&&h.getQualifiedURI(d)},getQualifiedURI:function(a){a=new(b("URI"))(a);if(!a.getDomain()){var c=new(b("URI"))(b("WWWBase").uri);a.setProtocol(c.getProtocol()).setDomain(c.getDomain()).setPort(c.getPort())}return a}};e.exports=h}),null);
__d("FacebarKeywordSearchUtils",["Arbiter","Base64","FacebarJSConstants","FacebarStructuredText","FacebarURI","FBLogger","KeywordsSearchResultConfig","LocalSERPSurfaceRequestParam","SearchStickyTabsConfig","URI","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a){var b=0;while(b<a.length)a[b].exactMatchKeyword?a.splice(b,1):++b},h=null,i={addExactMatch:function(a,c,d){__p&&__p();if(!c.length)return;var e=void 0,f=void 0;for(var h=0,i=c.length;h<i;h++){f=c[h];if(f.type==="grammar")continue;e=!0;break}if(!e)return;h=this.getExactMatchKeywordResult(a);if(!h)return;i=Math.min(c.length,d);e=i;for(var a=0;a<i;a++){f=c[a];if(f.exactMatchKeyword)return;f.cost>b("KeywordsSearchResultConfig").default_cost&&--e;if(f.type!==b("KeywordsSearchResultConfig").result_type)continue;h.backendCost=f.cost+b("KeywordsSearchResultConfig").exact_match_cost_delta_from_best;h.cost=f.backendCost;g(c);c.splice(a,0,h);return}g(c);c.splice(Math.min(Math.min(i,d-1),e),0,h)},getExactMatchKeywordResult:function(a){if(!a||a.is_empty||!a.raw_text)return null;var c=a.raw_text.toLowerCase().replace(/\s{2,}/g," ").trim(),d=b("KeywordsSearchResultConfig").query_prefix_blacklist;for(var e=0;e<d.length;e++)if(c.startsWith(d[e]))return null;e=this.makeFacebarEntry(c);return this._makeFacebarResult(e,a.cache_id.length)},makeFacebarEntryForLocalPage:function(a){var c=a.getFragment(0).getUID();a=a.getFragment(0).getText();c=c+"/local_search";var d=b("FacebarURI").getQualifiedURI(new(b("URI"))("/search/"+c).addQueryData("surface",b("LocalSERPSurfaceRequestParam").SINGLE_STATE));return{semantic:c,text:a,type:b("KeywordsSearchResultConfig").result_type,resultsSetType:b("KeywordsSearchResultConfig").result_set_type,uid:b("KeywordsSearchResultConfig").uid_prefix+a,iconClass:b("KeywordsSearchResultConfig").icon_class,keywordType:b("FacebarJSConstants").keywordTypes.local,uri:d,structure:b("FacebarStructuredText").fromString(a)}},makeFacebarEntry:function(a){var c=null,d=null,e=null;b("KeywordsSearchResultConfig").gsv2_results_page?(h!=null?e=h:e=b("KeywordsSearchResultConfig").gsv2_browse_edge,d="str/"+encodeURIComponent(a).replace(/%20/g,"+")+"/"+e,c=b("FacebarURI").getQualifiedURI(new(b("URI"))("/search/"+d))):(c=b("FacebarURI").getQualifiedURI(new(b("URI"))(b("KeywordsSearchResultConfig").results_page_url).addQueryData("q",a)),d=b("KeywordsSearchResultConfig").shortcut+"("+c.toString()+")");h==null&&b("KeywordsSearchResultConfig").use_seo_urls&&(c=b("FacebarURI").getQualifiedURI(new(b("URI"))(b("KeywordsSearchResultConfig").seo_top_url).addQueryData("q",a)));return{semantic:d,text:a,type:b("KeywordsSearchResultConfig").result_type,resultsSetType:b("KeywordsSearchResultConfig").result_set_type,uid:b("KeywordsSearchResultConfig").uid_prefix+a,iconClass:b("KeywordsSearchResultConfig").icon_class,uri:c,structure:b("FacebarStructuredText").fromString(a)}},clearSelectedTabInfo:function(){h=null},_makeFacebarResult:function(a,c){c={semantic:a.semantic,structure:[{type:"grammar",text:a.text,uid:a.semantic}],type:a.type,resultsSetType:a.resultsSetType,cost:b("KeywordsSearchResultConfig").default_cost,cache_id_length:c,parse:{display:[{type:"grammar",uid:b("KeywordsSearchResultConfig").uid_prefix+a.text}],remTokens:[],suffix:""},iconClass:a.iconClass,exactMatchKeyword:!0};c.tuid=JSON.stringify({semantic:c.semantic,structure:c.structure});return c},encodeFacebarURIParams:function(a){return b("Base64").encode(JSON.stringify(a)).replace(/\=+$/,"")},decodeFacebarURIParams:function(a){a=a.getQueryData().ref;if(a==null)return null;var c=void 0;try{c=JSON.parse(b("Base64").decode(a))}catch(a){b("FBLogger")("search").warn("Could not parse TBrowseURIRequestParams")}return c}};b("SearchStickyTabsConfig").has_sticky_tabs&&(function(){var a=void 0;b("Arbiter").subscribe("FacebarTypeahead.persistentTabs",function(c,d){h=d.browseEdge;c=b("SearchStickyTabsConfig").timeout;c!=null&&(a!=null&&clearTimeout(a),a=b("setTimeoutAcrossTransitions")(function(){i.clearSelectedTabInfo()},c*1e3))})})();e.exports=i}),null);
__d("generateBrowseSessionID",["CurrentUser","md5"],(function(a,b,c,d,e,f){var g={mtouch:"412378670482",www:"256281040558"};function a(a){var c=a.appName;a=a.edge;return b("md5")([g[c],b("CurrentUser").getID(),a,Math.floor(Date.now()/30)].join(":"))}e.exports=a}),null);
__d("SearchInstantBootstrapEntityModule",["cx","fbt","Arbiter","BanzaiODS","Base64","BlueBar","BrowseClickLogger","ContextualComponent","CSS","CurrentUser","DOM","FacebarKeywordSearchUtils","PageTransitionsRegistrar","Quickling","QuicklingConfig","React","ReactDOM","ReactRenderer","Run","SearchBootstrapEntityModuleDebugUtil","SearchBootstrapEntityModuleUIConfig","SearchBootstrapEntityModuleUtil","SearchEntityModule.react","SearchEntityModuleServerConstants","SearchEntityModuleUIConfig","SearchHCMUtil","SearchHighConfUserAttachmentsExperiment","SearchLoggingClientUnitIdPrefix","SearchResultPageElementID","SearchResultPageNavigationPerfMetrics","SearchWWWTrackableClientViewConfig","SubscriptionsHandler","URI","XUIPageNavigation.react","XUIPageNavigationGroup.react","XUIPageNavigationItem.react","XUISpinner.react","ge","generateBrowseSessionID","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=[h._("All"),h._("Posts"),h._("People"),h._("Photos"),h._("Videos"),h._("Pages"),h._("Places"),h._("Groups"),h._("Apps"),h._("Events")],j=void 0;function a(a){__p&&__p();this.$10=[],this.$11=!1,this.$12=!1,this.$13=!1,this.$18=function(a){__p&&__p();this.$11=!1;if(!b("SearchBootstrapEntityModuleUtil").isTopTabURI(a))return;this.$13=!0;var c=void 0,d=b("FacebarKeywordSearchUtils").decodeFacebarURIParams(a);d!=null&&(this.$8=d.sid,c=d.bsid);c==null&&(c=b("generateBrowseSessionID")({appName:"www",edge:"keywords_search"}));this.$9=c;this.$4=b("SearchBootstrapEntityModuleUtil").getQueryFromURI(a);this.$19();this.$20(a);this.$13&&this.$10.length>0&&(this.$21(),this.$22());this.$23()}.bind(this),this.$26=function(a){if(this.$9==null)return;this.$10=b("SearchBootstrapEntityModuleUtil").transformRawBootstrapResultsToEntityModuleResults(a,this.$9)}.bind(this),this.$27=function(){this.$13=!1,this.$28(),b("gkx")("AT528Od5fK-0zPrSmlNNJf3YXeUxetp_aKAsL-Uhu898gobvWBvscv2Sobr_sYCptiVSJ3MkFJwrqnDv7kK8iQ_g5tm0wqtEs_OshjDGplvu0w")&&b("SearchResultPageNavigationPerfMetrics").setElementDisplayEndTime(b("SearchResultPageElementID").BOOTSTRAP_ENTITY_MODULE),b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("new_bem_with_instant_loading","shown")}.bind(this),this.$1=a.getCore(),this.$2=new(b("SubscriptionsHandler"))(),j=this}a.prototype.enable=function(){__p&&__p();this.$7=b("ge")("content");if(this.$7==null)return;b("Run").onAfterLoad(function(){__p&&__p();this.$14();this.$2.addSubscriptions(b("Arbiter").subscribe("page_transition",function(){if(!this.$15())return;this.$16();this.$17()}.bind(this)));if(!this.$15())return;this.$16();this.$17()}.bind(this))};a.prototype.$15=function(){return b("Quickling").isActive()&&b("Quickling").getLoadCount()<b("QuicklingConfig").sessionLength-1};a.prototype.disable=function(){this.$2.release()};a.prototype.$16=function(){this.$11||(b("PageTransitionsRegistrar").registerHandler(this.$18),this.$11=!0)};a.prototype.$17=function(){__p&&__p();if(this.$12)return;var a=this.$7;if(a==null)return;a=b("ContextualComponent").closestToNode(a);if(a==null)return;a.onUnmount(function(){this.$24(),this.$12=!1}.bind(this));this.$12=!0};a.prototype.$24=function(){if(b("SearchBootstrapEntityModuleUtil").isTopTabURI(b("URI").getNextURI())){this.$13&&this.$10.length===0&&(this.$21(),this.$22());return}this.$22();this.$21()};a.prototype.$14=function(){var a=b("DOM").create("div",{className:"_126b"}),c=b("BlueBar").getBar();this.$3=b("DOM").create("div",{className:"_126c"},a);b("ReactRenderer").constructAndRenderComponentAcrossTransitions(b("XUISpinner.react"),{size:"large"},a);this.$6=b("DOM").create("div",{style:c!=null?"top: "+c.offsetHeight+"px":null,className:"_126d"},[this.$3,this.$25()]);b("DOM").appendContent(this.$6,this.$3);this.$6!=null&&b("CSS").hide(this.$6);b("DOM").appendContent(document.body,this.$6)};a.prototype.$25=function(){var a=i.map(function(a,c){return b("React").createElement(b("XUIPageNavigationItem.react"),{className:"_4gsg",href:"#",key:c},a)}),c=b("DOM").create("div"),d=b("DOM").create("div",{style:"top: initial",className:"_5sqx _4-u2 _4-u8","aria-hidden":!0},b("DOM").create("div",{className:"_zz9 _5im-"},c));b("ReactRenderer").constructAndRenderComponentAcrossTransitions(b("XUIPageNavigation.react"),{children:b("React").createElement(b("XUIPageNavigationGroup.react"),null,a)},c);return d};a.prototype.$19=function(){var a=[];b("gkx")("AT6AJhPyszcjQNvdyZ_5WvLb_AWIf6QuatGdzEnoTW_afFudSL0JxM_uVqeOmWglj9HMsKEWmAUxPA2KKsv5vCxfs9Kd6MaHeMmJ0060v-A0CA")&&this.$4!=null&&(a=this.$1.getSquashedEntityIDsFromQueryString(this.$4),a==null&&(a=[]));b("Arbiter").inform("FacebarDataSource.getBootstrapMatches",{query:this.$4,callback:this.$26,whitelistedEntIds:a},b("Arbiter").BEHAVIOR_PERSISTENT)};a.prototype.$20=function(a){__p&&__p();var c=this.$4,d=this.$10;if(c==null||d.length===0)return;var e=void 0,f=a.getQueryData().ref,g=b("FacebarKeywordSearchUtils").decodeFacebarURIParams(a);g==null&&(e=f);f=d.map(function(a){return a.tuid});var h=this.$9;if(h==null)return;g=babelHelpers["extends"]({},g,{preloaded_entity_ids:f,preloaded_entity_type:d[0].type,ent_ids:this.$1.getSquashedEntityIDsFromQueryString(c),bsid:h,high_confidence_argument:b("SearchHighConfUserAttachmentsExperiment").bemHCMEnabled?b("SearchHCMUtil").getHighConfidenceArgument(c,d):null});e!=null&&(g.ref=e);a.setQueryData(babelHelpers["extends"]({},a.getQueryData(),{ref:b("Base64").encode(JSON.stringify(g)).replace(/\=+$/,"")}))};a.prototype.$23=function(){__p&&__p();var a=this.$10,c=this.$4,d=this.$9;if(a==null||c==null||d==null)return;if(a.length===0){b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("new_bem_with_instant_loading","no_matches");return}var e=b("DOM").create("div",{"data-bt":JSON.stringify({session_id:d,typeahead_sid:this.$8})});b("DOM").prependContent(this.$3,e);b("BrowseClickLogger").init(e);var f=b("SearchBootstrapEntityModuleUtil").getTitleForResultType(a[0].type);d={plain_text_query:c,browse_query:"keywords_search("+c+")",results:a,module_role:b("SearchEntityModuleServerConstants").RESULT_TYPE_TO_MODULE_ROLE[a[0].type],result_type:a[0].type,num_results_to_show:b("SearchBootstrapEntityModuleUIConfig").numResultsToShow,client_view_config:b("SearchWWWTrackableClientViewConfig"),browse_session_id:d,module_style:b("SearchEntityModuleUIConfig").moduleStyle,title:f,see_more_uri:b("SearchBootstrapEntityModuleUtil").getSeeMoreURIForResults(a,c).toString(),logging_unit_id:b("SearchBootstrapEntityModuleUtil").generateUnitIDWithPrefix(b("SearchLoggingClientUnitIdPrefix").WWW_INSTANT_BEM),has_module_guidelines:b("SearchEntityModuleUIConfig").hasModuleGuidelines,viewer_id:b("CurrentUser").getID(),is_bootstrap_entity_module:!0,should_render_footer:!1,typeahead_session_id:this.$8,is_high_confidence_module:b("SearchHCMUtil").shouldTriggerBEMHCM(c,a)};this.$5!=null&&b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("new_bem_with_instant_loading","previous_bem_not_unmounted");this.$5=b("ReactRenderer").constructAndRenderComponentAcrossTransitions(b("SearchEntityModule.react"),d,e,this.$27)};a.prototype.$22=function(){var a=this.$5;if(a==null)return;var c=!1;a=b("ReactDOM").findDOMNode(a);a!=null&&a.parentNode!=null&&(c=b("ReactDOM").unmountComponentAtNode(a.parentNode));c||b("BanzaiODS").bumpEntityKey("search.www.bem.instant_bem","current_bem_did_not_unmount");this.$5=null;this.$13=!1};a.prototype.$28=function(){this.$6!=null&&b("CSS").show(this.$6),this.$7!=null&&b("CSS").hide(this.$7)};a.prototype.$21=function(){this.$7!=null&&b("CSS").show(this.$7);if(this.$6==null){b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("new_bem_with_instant_loading","page_background_not_found");return}b("CSS").hide(this.$6)};a.moveInsideWrapper=function(c){__p&&__p();if(j==null){b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("new_bem_with_instant_loading","bem_not_initialized");return}j.$21();var a=j.$5;if(a==null){b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("new_bem_with_instant_loading","no_module_found_on_instance");return}a=b("ReactDOM").findDOMNode(a);if(a==null){b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("new_bem_with_instant_loading","no_module_root_found");return}if(a.parentNode==null){b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("new_bem_with_instant_loading","no_parent_node_found_for_module_root");return}b("DOM").contains(document.body,c)||b("SearchBootstrapEntityModuleDebugUtil").printDebugNotice("new_bem_with_instant_loading","wrapper_not_in_dom");b("DOM").appendContent(c,a.parentNode)};e.exports=a}),null);
__d("SearchLHCFilters.react",["DOMContainer.react","React","ReactDOM","onEnclosingPageletDestroy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(a){g.constructor.call(this,a)}a.prototype.componentDidMount=function(){var a=b("ReactDOM").findDOMNode(this);a instanceof Element&&b("onEnclosingPageletDestroy")(a,function(){var a=b("ReactDOM").findDOMNode(this);a&&a.parentNode&&b("ReactDOM").unmountComponentAtNode(a.parentNode)}.bind(this))};a.prototype.render=function(){return b("React").createElement(b("DOMContainer.react"),null,this.props.content)};e.exports=a}),null);
__d("NodeHighlighter",["DOM","TokenizeUtil","concatMap","escapeRegex","getElementText","isTextNode"],(function(a,b,c,d,e,f){__p&&__p();var g={};function h(a,c){a=b("getElementText")(a).split(c);var d=a.map(function(a){return c.test(a)?i(a):a||""});return a.length>1?d:null}function i(a){a=b("DOM").create("span",{"class":"highlightNode",className:"highlightNode"},a);return a}a={getTextNodes:function(a){if(this.isLeafNode(a)||this.isStopNode(a))return a;else if(this.isDiscardNode(a))return[];return b("concatMap")(this.getTextNodes.bind(this),Array.from(a.childNodes))},getHighlightCandidates:function(){return[]},isLeafNode:function(a){return b("isTextNode")(a)},isStopNode:function(a){return!1},isDiscardNode:function(a){return!1},createSegmentedRegex:function(a){var c=b("TokenizeUtil").getPunctuation();a=this.escapeAndAddBidirectionalCharsToTokens(a);a=a.map(function(a){a=a.split(/\s+/).join("(?:"+c+"|\\s)+");return a});return"(^|\\s|"+c+")("+a.join("|")+")(?=(?:$|\\s|"+c+"))"},createNonSegmentedRegex:function(a){return"("+a.map(b("escapeRegex")).join("|")+")"},escapeAndAddBidirectionalCharsToTokens:function(a){var c="[\\u200E\\u200F\\u202A\\u202B\\u202C\\u202D\\u202E]*";return a.map(function(a){return c+String(a).split("").map(b("escapeRegex")).join(c)+c})},createRegex:function(a){__p&&__p();a=a.filter(function(a){return a});if(!a||a.length===0)return new RegExp(null);var b=a.join("|");if(g[b])return g[b];var c=/[\u0E00-\u109F\u2000-\uFFFF]/,d=[],e=[];a.forEach(function(a){c.test(a)?e.push(a):d.push(a)});a="";d.length&&(a+=this.createSegmentedRegex(d),a+=e.length?"|":"");e.length&&(a+=this.createNonSegmentedRegex(e));a=new RegExp(a,"i");g[b]=a;return a},searchNodes:function(a,c){return b("DOM").scry(a,c)},highlight:function(a,c){c=c.filter(function(a){return a});if(!c||c.length===0||!a)return;var d=b("concatMap")(function(c){return b("concatMap")(this.getTextNodes.bind(this),this.searchNodes(a,c))}.bind(this),this.getHighlightCandidates()),e=this.createRegex(c);d.forEach(function(a){var c=h(a,e);c&&(this.isStopNode(a)?b("DOM").setContent(a,c):b("DOM").replace(a,c))}.bind(this))}};e.exports=a}),null);
__d("SearchCommentHighlighter",["csx","Arbiter","CSS","NodeHighlighter","Parent","UFIUIEvents"],(function(a,b,c,d,e,f,g){__p&&__p();var h="data-highlight-tokens";a=babelHelpers["extends"]({},b("NodeHighlighter"),{_enableCommentHighlighting:function(){if(this._subscription)return;this._subscription=b("Arbiter").subscribe(b("UFIUIEvents").Changed,function(a,b){a=b.form;return this._highlightComments(a)}.bind(this));b("Arbiter").subscribeOnce("pre_page_transition",function(){return this._disableCommentHighlighting()}.bind(this))},_disableCommentHighlighting:function(){this._subscription.unsubscribe(),this._subscription=null},_highlightComments:function(a){var c=this._getHighlightTokens(a);c&&b("NodeHighlighter").highlight.call(this,a,c)},_getHighlightTokens:function(a){a=b("Parent").byAttribute(a,h);return a?JSON.parse(a.getAttribute(h)):null},isDiscardNode:function(a){return b("CSS").hasClass(a,"highlightNode")},getHighlightCandidates:function(){return[".UFICommentContent"]},highlight:function(a,b){if(!a.setAttribute)return;a.setAttribute(h,JSON.stringify(b));this._enableCommentHighlighting()}});e.exports=a}),null);
__d("mayHaveConnectedCharacters",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.match(/[\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1A20-\u1AAF\u1B00-\u1B7F\u1B80-\u1BBF\u1BC0-\u1BFF\u1C00-\u1C4F\u1CC0-\u1CCF\uA800-\uA82F\uA840-\uA87F\uA880-\uA8DF\uA8E0-\uA8FF\uA930-\uA95F\uA980-\uA9DF\uA9E0-\uA9FF\uAA00-\uAA5F\uAA60-\uAA7F\uAA80-\uAADF\uAAE0-\uAAFF\uABC0-\uABFF\u0600-\u06FF\u0750–\u077F\u08A0–\u08FF\uFB50–\uFDFF\uFE70–\uFEFF\u4e00-\u9faf\u0D80-\u0DFF\u0E80-\u0EFF]/)!=null}e.exports=a}),null);
__d("SearchCompactStoriesHighlighter",["csx","NodeHighlighter","mayHaveConnectedCharacters"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},b("NodeHighlighter"),{getHighlightCandidates:function(){return["._5-jo","._lic","._gz2"]},highlight:function(a,c){if(c.some(b("mayHaveConnectedCharacters")))return;b("NodeHighlighter").highlight.call(this,a,c)}});e.exports=a}),null);
__d("DenseStoriesEllipsis",["csx","CSS","DOM","DOMQuery","LitestandEllipsis","getElementText"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={truncate:function(a){__p&&__p();var c=a.messageNode,d=b("DOM").scry(c,"._5-jo")[0]||c,e=d.offsetHeight||0,f=b("DOM").scry(a.messageNode,"._3087")[0];if(e<=a.truncateHeight&&f!=null){b("CSS").hide(f);return}b("LitestandEllipsis").add(d,a.truncateHeight,c);e=b("DOMQuery").scry(a.messageNode,".highlightNode");for(var f=e,d=Array.isArray(f),c=0,f=d?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(c>=f.length)break;a=f[c++]}else{c=f.next();if(c.done)break;a=c.value}e=a;a=b("getElementText")(e);a===""&&b("DOM").remove(e)}}};e.exports=a}),null);
__d("DenseStoriesPostProcessing",["DenseStoriesEllipsis","SearchCompactStoriesHighlighter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={run:function(a){__p&&__p();a.highlightingConfig!=null&&b("SearchCompactStoriesHighlighter").highlight(a.highlightingConfig.rootElement,a.highlightingConfig.matchWords);if(a.truncationConfigs!=null)for(var a=a.truncationConfigs,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b("DenseStoriesEllipsis").truncate(e)}}};e.exports=a}),null);
__d("FbFeedHighlighter",["csx","cx","CSS","NodeHighlighter","SearchCommentHighlighter"],(function(a,b,c,d,e,f,g,h){var i="_58cn";a=babelHelpers["extends"]({},b("NodeHighlighter"),{getHighlightCandidates:function(){return["._5pbw","._5pbx","._6m6","._6m7","._59tj","._5b-_","._5b_0","._4_j6",".commentBody","._6lc","._6s_"]},isStopNode:function(a){return b("CSS").hasClass(a,i)},isDiscardNode:function(a){return b("CSS").hasClass(a,"text_exposed_link")},highlight:function(a,c){b("NodeHighlighter").highlight.call(this,a,c),b("SearchCommentHighlighter").highlight(a,c)}});e.exports=a}),null);